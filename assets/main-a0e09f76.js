var cn=Object.defineProperty;var dn=(t,e,s)=>e in t?cn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Ht=(t,e,s)=>(dn(t,typeof e!="symbol"?e+"":e,s),s);import{b as un,r as S,j as o,L as Kt,C as qe,T as Es,d as j,e as wt,I as fn,G as ie,B as G,f as Ps,h as X,i as tt,A as Fe,S as $e,P as Rs,k as H,l as hn,m as pt,n as Ve,o as pn,N as re,u as gn,q as Se,s as mn,D as vt,t as xn,v as bn,w as Ct,x as dt,y as yn,z as _,E as Q,F as Ee,H as Sn,J as Ge,K as Wt,M as st,O as wn,Q as vn,U as Cn,V as jn,W as Tn,X as On,Y as Ue,Z as qt,_ as An,$ as Jt,a0 as Nn,a1 as ne,a2 as En,a3 as Pn,a4 as Rn,a5 as Ln,a6 as In,a7 as Un,a8 as kn,a9 as Dn,aa as _n,ab as Mn,ac as Bn,ad as zn,c as Be,a as Fn,ae as $n,af as Vn,R as Hn,ag as Kn}from"./ui-8ff4ad30.js";import{_ as se,u as Mt,a as Bt,T as jt,b as Wn}from"./ton_tg-e3c82f5c.js";import{r as qn,d as A,c as Jn}from"./ton_core-7b117370.js";function Gn(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var Tt={},Gt=un;Tt.createRoot=Gt.createRoot,Tt.hydrateRoot=Gt.hydrateRoot;const Xn="_inner_hgqr3_1",Yn="_content_hgqr3_12",Qn="_title_hgqr3_22",Zn="_control_hgqr3_36",er="_image_hgqr3_42",tr="_highlight_hgqr3_51",we={inner:Xn,content:Yn,title:Qn,control:Zn,image:er,highlight:tr};function sr(){const[t,e]=S.useState(!1);return S.useEffect(()=>{se.initDataUnsafe.user!==void 0&&e(!0)},[]),{webApp:se,isWebApp:t}}function nr(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];ve(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Xt={};function Ot(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];ve(e[0])&&Xt[e[0]]||(ve(e[0])&&(Xt[e[0]]=new Date),nr(...e))}const Ls=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}},Yt=(t,e,s)=>{t.loadNamespaces(e,Ls(t,s))},Qt=(t,e,s,n)=>{ve(s)&&(s=[s]),s.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,Ls(t,n))},rr=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],r=e.options?e.options.fallbackLng:!1,i=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const d=e.services.backendConnector.state[`${l}|${c}`];return d===-1||d===2};return s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(n,t)&&(!r||a(i,t)))},ir=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Ot("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:s.lng,precheck:(r,i)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}):rr(t,e,s)},ve=t=>typeof t=="string",or=t=>typeof t=="object"&&t!==null,ar=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lr={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},cr=t=>lr[t],dr=t=>t.replace(ar,cr);let At={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:dr};const ur=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};At={...At,...t}},fr=()=>At;let Is;const hr=t=>{Is=t},pr=()=>Is,gr={type:"3rdParty",init(t){ur(t.options.react),hr(t)}},mr=S.createContext();class xr{constructor(){Ht(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}}const br=(t,e)=>{const s=S.useRef();return S.useEffect(()=>{s.current=e?s.current:t},[t,e]),s.current},Us=(t,e,s,n)=>t.getFixedT(e,s,n),yr=(t,e,s,n)=>S.useCallback(Us(t,e,s,n),[t,e,s,n]),me=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:s}=e,{i18n:n,defaultNS:r}=S.useContext(mr)||{},i=s||n||pr();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new xr),!i){Ot("You will need to pass in an i18next instance by using initReactI18next");const T=(U,N)=>ve(N)?N:or(N)&&ve(N.defaultValue)?N.defaultValue:Array.isArray(U)?U[U.length-1]:U,I=[T,{},!1];return I.t=T,I.i18n={},I.ready=!1,I}i.options.react&&i.options.react.wait!==void 0&&Ot("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...fr(),...i.options.react,...e},{useSuspense:l,keyPrefix:c}=a;let d=t||r||i.options&&i.options.defaultNS;d=ve(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(d);const f=(i.isInitialized||i.initializedStoreOnce)&&d.every(T=>ir(T,i,a)),p=yr(i,e.lng||null,a.nsMode==="fallback"?d:d[0],c),u=()=>p,m=()=>Us(i,e.lng||null,a.nsMode==="fallback"?d:d[0],c),[y,x]=S.useState(u);let b=d.join();e.lng&&(b=`${e.lng}${b}`);const E=br(b),R=S.useRef(!0);S.useEffect(()=>{const{bindI18n:T,bindI18nStore:I}=a;R.current=!0,!f&&!l&&(e.lng?Qt(i,e.lng,d,()=>{R.current&&x(m)}):Yt(i,d,()=>{R.current&&x(m)})),f&&E&&E!==b&&R.current&&x(m);const U=()=>{R.current&&x(m)};return T&&i&&i.on(T,U),I&&i&&i.store.on(I,U),()=>{R.current=!1,T&&i&&T.split(" ").forEach(N=>i.off(N,U)),I&&i&&I.split(" ").forEach(N=>i.store.off(N,U))}},[i,b]),S.useEffect(()=>{R.current&&f&&x(u)},[i,c,f]);const B=[y,i,f];if(B.t=y,B.i18n=i,B.ready=f,f||!f&&!l)return B;throw new Promise(T=>{e.lng?Qt(i,e.lng,d,()=>T()):Yt(i,d,()=>T())})};function gt({data:t}){const[e]=Mt(),{isWebApp:s}=sr(),{t:n}=me(),r=[];for(let i=0;i<t.itemsCount;i++)r.push(o.jsxs(Kt.Item,{children:[o.jsx("b",{children:n(`custom:heroPage.items.${i}.main`)})," – ",n(`custom:heroPage.items.${i}.desc`)]},i));return o.jsx(qe,{size:"md",children:o.jsxs("div",{className:we.inner,children:[o.jsxs("div",{className:we.content,children:[o.jsxs(Es,{className:we.title,children:[n("custom:heroPage.title.first")," ",o.jsx("span",{className:we.highlight,children:n("custom:heroPage.title.second")})," ",n("custom:heroPage.title.third")]}),o.jsx(j,{c:"dimmed",mt:"md",children:n("heroPage.description",{ns:"custom"})}),o.jsx(Kt,{mt:30,spacing:"sm",size:"sm",icon:o.jsx(wt,{size:20,radius:"xl",children:o.jsx(fn,{size:12,stroke:1.5})}),children:r}),!s&&o.jsx(ie,{className:we.controls,children:o.jsx(G,{mt:30,radius:"xl",size:"md",className:we.control,onClick:()=>e.openModal(),children:n("Connect Wallet")})})]}),o.jsx(Ps,{src:t.image,className:we.image})]})})}const Sr="_card_1ag5c_1",wr="_imageSection_1ag5c_6",vr="_label_1ag5c_14",Cr="_section_1ag5c_23",jr="_buttonSection_1ag5c_28",Tr="_inputWrapper_1ag5c_34",Or="_loader_1ag5c_39",zt={card:Sr,imageSection:wr,label:vr,section:Cr,buttonSection:jr,inputWrapper:Tr,loader:Or};function ks({data:t}){const{t:e}=me(),s=[];for(let n=0;n<t.length;n++){const r=t[n];s.push(o.jsxs(X,{withBorder:!0,children:[o.jsxs(X.Section,{p:"xs",children:[o.jsx(tt,{children:o.jsx(Fe,{variant:"filled",radius:"xl",src:r.logo,size:"xl"})}),o.jsx(tt,{children:o.jsx(j,{fw:500,ml:"2px",truncate:"end",children:r.name})})]}),o.jsxs(j,{size:"xs",children:[" ",e("Loan"),": ",r.size," ",r.usdt?"USDT":"TON"]}),o.jsxs(j,{size:"xs",children:[" ",e("Per day"),": ",r.interest," %"]}),o.jsxs(j,{size:"xs",children:[" ",e("Term"),": ",r.duration," ",e("days")]})]},n))}return o.jsxs(qe,{size:"md",p:"xs",m:"xs",children:[o.jsx(tt,{children:o.jsx(Es,{order:3,children:e("Available collections")})}),o.jsx($e,{cols:{base:2,md:3,lg:4},spacing:"xs",mt:"md",children:s})]})}var Ar=qn();const je=86400,Nr=1e4,rt=1e9,He=1e6,Er=.1,Pr=.4,Nt=.05,Rr=["0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2","0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2","0:46fa0e9a864014196a5e7d66f1f83ffdb10f2859bbf2ea9baeabbf14d9ce0d50","0:fd8a466aeb13e02a3ce67411b41b44bcd11bd42636f0807acf6570ca73fc2c13","0:ab180f6c942a24b200fe3724438ed1f248a3744ecf24ea176e78991491965d0f","0:13b9419dbeb8cbbd3584e69a5514e542a94d9d9422d49ca4ecbb49f52589bd95","0:388b9f22b92f4351846d519f7bb19a399a791b898501a565d039eddd11409c3f","0:fa987f5bc1b9fa4b733fb424563afa80216f0cdf8911c1b234d678862d13de0c","0:02710a51d9f99d784356744d98190587571493c80f19ab8fe4eeb93f21ac4245","0:c9b0df4e24184a199a16656b64129ce409f22ed7a67d5334d66d88de2e9b8775","0:30cee6dea09c27aa6981b933e99d44aead1cd63c1f0447371fcf1e7967662313","0:70dad3b951a27873f617b7723ccb9283d24dfbb2d699c5e755d8ee479abca22b","0:d3ae8fa88096d2ee8f8e043e9bb76372b0fb7b4a71a6e737ee457181d6713fad","0:9e7eb8e1083dbfec7448af6966c2df596aa786fed76c781bc00c2ebaf37de405","0:ee9b2ddb9d96335786d258c492664997ab1e745ee1f977d4655ffc848b614d96","0:d0e838d169b4d8480c5fdb1ad9b27b17b6a7089b56e3f5d179c7f87c94d8d63e","0:7a02d04f3ae4ed42697ca1203b5fc66a27942670e618aa8cfddac4185c6510af","0:b200c91be9b37236528f1f4b496ee6e4d55563012ab2abdb19c2427c01bc4c93","0:5a38bf261f9632c245e3929b3ae57d4e2cf347ee99ece1871f2e6695a456a834","0:2d154f46ac67e2c78506f433a2bcde7c431be004951a019fe97590590a66e12a","0:1a4c847ba09ca8c038ae9982d5374a1eeb590613723a10f127ed68073c6b9601","0:3c0c25b2096cb2c2038a60e45ead1a1255ebd6ad443f16329080d8a1c58d76db","0:78c77b13d4355d383cdacb71fee1524874ea284b9fa44e0c8a7183195a880f3a"],Lr=function(t,e,s){if(t.length<=e)return t;s=s||"...";var n=s.length,r=e-n,i=Math.ceil(r/2),a=Math.floor(r/2);return t.substring(0,i)+s+t.substring(t.length-a)},Ir=function(t){return t?Lr(t,18,"..."):""},Ds=async function(t,e){var n,r;if(((n=t.allowed)==null?void 0:n.custom)===!0)return A.beginCell().storeCoins(A.toNano(e)).endCell();if(((r=t.allowed)==null?void 0:r.usdt)===!0)return A.beginCell().storeUint(BigInt(t.tokenId),64).storeCoins(e*He).endCell();const s=Rr.indexOf(t.collectionAddress);if(s>-1){let i;s<2?i=t.name.slice(1).replace(/ /g,""):i=t.name.replace(/#/g,"-").replace(/[ ’]/g,"").toLowerCase(),console.log("[getForwardPayload] teleitem name: ",i);const l=(await Ar.sha256(i)).toString("hex"),c=BigInt(`0x${l}`),d=A.beginCell().storeUint(c,256).endCell();return A.beginCell().storeCoins(A.toNano(e)).storeRef(d).endCell()}else return A.beginCell().storeUint(BigInt(t.tokenId),64).storeCoins(A.toNano(e)).endCell()},Ur=async function(t){const e=[],s=[],n=[];for(let r=0;r<t.length;r++){const i=t[r];e.push(i.nft.address),s.push(i.props.verifier),n.push(await Ds(i.nft,i.props.size))}return{nftAddresses:e,vItemAddresses:s,forwardPayloads:n}},K={ERROR:0,ACTIVE:1,CREDIT_CLOSED:2,WAIT_START_BID:3,AUCTION_STARTED:4,AUCTION_FINISHED:5},pe={GET_CREDIT:0,MAKE_BET:1},L=t=>typeof t=="string",ke=()=>{let t,e;const s=new Promise((n,r)=>{t=n,e=r});return s.resolve=t,s.reject=e,s},Zt=t=>t==null?"":""+t,kr=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},Dr=/###/g,es=t=>t&&t.indexOf("###")>-1?t.replace(Dr,"."):t,ts=t=>!t||L(t),ze=(t,e,s)=>{const n=L(e)?e.split("."):e;let r=0;for(;r<n.length-1;){if(ts(t))return{};const i=es(n[r]);!t[i]&&s&&(t[i]=new s),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++r}return ts(t)?{}:{obj:t,k:es(n[r])}},ss=(t,e,s)=>{const{obj:n,k:r}=ze(t,e,Object);if(n!==void 0||e.length===1){n[r]=s;return}let i=e[e.length-1],a=e.slice(0,e.length-1),l=ze(t,a,Object);for(;l.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),l=ze(t,a,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=s},_r=(t,e,s,n)=>{const{obj:r,k:i}=ze(t,e,Object);r[i]=r[i]||[],r[i].push(s)},it=(t,e)=>{const{obj:s,k:n}=ze(t,e);if(s)return s[n]},Mr=(t,e,s)=>{const n=it(t,s);return n!==void 0?n:it(e,s)},_s=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?L(t[n])||t[n]instanceof String||L(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):_s(t[n],e[n],s):t[n]=e[n]);return t},Te=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Br={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const zr=t=>L(t)?t.replace(/[&<>"'\/]/g,e=>Br[e]):t;class Fr{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const $r=[" ",",","?","!",";"],Vr=new Fr(20),Hr=(t,e,s)=>{e=e||"",s=s||"";const n=$r.filter(a=>e.indexOf(a)<0&&s.indexOf(a)<0);if(n.length===0)return!0;const r=Vr.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!r.test(t);if(!i){const a=t.indexOf(s);a>0&&!r.test(t.substring(0,a))&&(i=!0)}return i},Et=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let r=t;for(let i=0;i<n.length;){if(!r||typeof r!="object")return;let a,l="";for(let c=i;c<n.length;++c)if(c!==i&&(l+=s),l+=n[c],a=r[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;i+=c-i+1;break}r=a}return r},ot=t=>t&&t.replace("_","-"),Kr={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class at{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Kr,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,r){return r&&!this.debug?null:(L(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new at(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new at(this.logger,e)}}var ce=new at;class ut{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(s)||0;this.observers[n].set(s,r+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[l,c]=a;for(let d=0;d<c;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[l,c]=a;for(let d=0;d<c;d++)l.apply(l,[e,...n])})}}class ns extends ut{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,s],n&&(Array.isArray(n)?l.push(...n):L(n)&&i?l.push(...n.split(i)):l.push(n)));const c=it(this.data,l);return!c&&!s&&!n&&e.indexOf(".")>-1&&(e=l[0],s=l[1],n=l.slice(2).join(".")),c||!a||!L(n)?c:Et(this.data&&this.data[e]&&this.data[e][s],n,i)}addResource(e,s,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,s];n&&(l=l.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(l=e.split("."),r=s,s=l[1]),this.addNamespaces(s),ss(this.data,l,r),i.silent||this.emit("added",e,s,n,r)}addResources(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(L(n[i])||Array.isArray(n[i]))&&this.addResource(e,s,i,n[i],{silent:!0});r.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,s];e.indexOf(".")>-1&&(l=e.split("."),r=n,n=s,s=l[1]),this.addNamespaces(s);let c=it(this.data,l)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?_s(c,n,i):c={...c,...n},ss(this.data,l,c),a.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(r=>s[r]&&Object.keys(s[r]).length>0)}toJSON(){return this.data}}var Ms={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,r){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,s,n,r))}),e}};const rs={};class lt extends ut{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),kr(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ce.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=s.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Hr(e,n,r);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:L(i)?[i]:i};const d=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(r)}return{key:e,namespaces:L(i)?[i]:i}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1],d=s.lng||this.language,f=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(f){const T=s.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${T}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${T}${a}`}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:a}const p=this.resolve(e,s);let u=p&&p.res;const m=p&&p.usedKey||a,y=p&&p.exactUsedKey||a,x=Object.prototype.toString.apply(u),b=["[object Number]","[object Function]","[object RegExp]"],E=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,B=!L(u)&&typeof u!="boolean"&&typeof u!="number";if(R&&u&&B&&b.indexOf(x)<0&&!(L(E)&&Array.isArray(u))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,u,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(p.res=T,p.usedParams=this.getUsedParamsDetails(s),p):T}if(i){const T=Array.isArray(u),I=T?[]:{},U=T?y:m;for(const N in u)if(Object.prototype.hasOwnProperty.call(u,N)){const q=`${U}${i}${N}`;I[N]=this.translate(q,{...s,joinArrays:!1,ns:l}),I[N]===q&&(I[N]=u[N])}u=I}}else if(R&&L(E)&&Array.isArray(u))u=u.join(E),u&&(u=this.extendTranslation(u,e,s,n));else{let T=!1,I=!1;const U=s.count!==void 0&&!L(s.count),N=lt.hasDefaultValue(s),q=U?this.pluralResolver.getSuffix(d,s.count,s):"",$=s.ordinal&&U?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",M=U&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),D=M&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${q}`]||s[`defaultValue${$}`]||s.defaultValue;!this.isValidLookup(u)&&N&&(T=!0,u=D),this.isValidLookup(u)||(I=!0,u=a);const V=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:u,k=N&&D!==u&&this.options.updateMissing;if(I||T||k){if(this.logger.log(k?"updateKey":"missingKey",d,c,a,k?D:u),i){const w=this.resolve(a,{...s,keySeparator:!1});w&&w.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let h=[];const g=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&g&&g[0])for(let w=0;w<g.length;w++)h.push(g[w]);else this.options.saveMissingTo==="all"?h=this.languageUtils.toResolveHierarchy(s.lng||this.language):h.push(s.lng||this.language);const v=(w,C,O)=>{const z=N&&O!==u?O:V;this.options.missingKeyHandler?this.options.missingKeyHandler(w,c,C,z,k,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(w,c,C,z,k,s),this.emit("missingKey",w,c,C,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?h.forEach(w=>{const C=this.pluralResolver.getSuffixes(w,s);M&&s[`defaultValue${this.options.pluralSeparator}zero`]&&C.indexOf(`${this.options.pluralSeparator}zero`)<0&&C.push(`${this.options.pluralSeparator}zero`),C.forEach(O=>{v([w],a+O,s[`defaultValue${O}`]||D)})}):v(h,a,D))}u=this.extendTranslation(u,e,s,p,n),I&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${c}:${a}`),(I||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,T?u:void 0):u=this.options.parseMissingKeyHandler(u))}return r?(p.res=u,p.usedParams=this.getUsedParamsDetails(s),p):u}extendTranslation(e,s,n,r,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=L(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const u=e.match(this.interpolator.nestingRegexp);f=u&&u.length}let p=n.replace&&!L(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||r.usedLng,n),d){const u=e.match(this.interpolator.nestingRegexp),m=u&&u.length;f<m&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var u=arguments.length,m=new Array(u),y=0;y<u;y++)m[y]=arguments[y];return i&&i[0]===m[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${s[0]}`),null):a.translate(...m,s)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=L(l)?[l]:l;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=Ms.handle(c,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,i,a,l;return L(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,s),f=d.key;r=f;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const u=s.count!==void 0&&!L(s.count),m=u&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),y=s.context!==void 0&&(L(s.context)||typeof s.context=="number")&&s.context!=="",x=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);p.forEach(b=>{this.isValidLookup(n)||(l=b,!rs[`${x[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(rs[`${x[0]}-${b}`]=!0,this.logger.warn(`key "${r}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(E=>{if(this.isValidLookup(n))return;a=E;const R=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(R,f,E,b,s);else{let T;u&&(T=this.pluralResolver.getSuffix(E,s.count,s));const I=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(R.push(f+T),s.ordinal&&T.indexOf(U)===0&&R.push(f+T.replace(U,this.options.pluralSeparator)),m&&R.push(f+I)),y){const N=`${f}${this.options.contextSeparator}${s.context}`;R.push(N),u&&(R.push(N+T),s.ordinal&&T.indexOf(U)===0&&R.push(N+T.replace(U,this.options.pluralSeparator)),m&&R.push(N+I))}}let B;for(;B=R.pop();)this.isValidLookup(n)||(i=B,n=this.getResource(E,b,B,s))}))})}),{res:n,usedKey:r,exactUsedKey:i,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,r):this.resourceStore.getResource(e,s,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!L(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const i of s)delete r[i]}return r}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}const mt=t=>t.charAt(0).toUpperCase()+t.slice(1);class is{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ce.create("languageUtils")}getScriptPartFromCode(e){if(e=ot(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=ot(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(L(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let r=Intl.getCanonicalLocales(e)[0];if(r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r)return r}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=mt(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=mt(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=mt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(s=r)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return s=r;s=this.options.supportedLngs.find(i=>{if(i===r)return i;if(!(i.indexOf("-")<0&&r.indexOf("-")<0)&&(i.indexOf("-")>0&&r.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===r||i.indexOf(r)===0&&r.length>1))return i})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),L(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),r=[],i=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return L(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):L(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{r.indexOf(a)<0&&i(this.formatLanguageCode(a))}),r}}let Wr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],qr={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Jr=["v1","v2","v3"],Gr=["v4"],os={zero:0,one:1,two:2,few:3,many:4,other:5},Xr=()=>{const t={};return Wr.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:qr[e.fc]}})}),t};class Yr{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=ce.create("pluralResolver"),(!this.options.compatibilityJSON||Gr.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xr(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=ot(e==="dev"?"en":e),r=s.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:r})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,s)}return this.pluralRulesCache[i]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${s}${r}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,i)=>os[r]-os[i]).map(r=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(s)}`:this.getSuffixRetroCompatible(r,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Jr.includes(this.options.compatibilityJSON)}}const as=function(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Mr(t,e,s);return!i&&r&&L(s)&&(i=Et(t,s,n),i===void 0&&(i=Et(e,s,n))),i},xt=t=>t.replace(/\$/g,"$$$$");class Qr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ce.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:f,unescapePrefix:p,nestingPrefix:u,nestingPrefixEscaped:m,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:b,maxReplaces:E,alwaysFormat:R}=e.interpolation;this.escape=s!==void 0?s:zr,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?Te(i):a||"{{",this.suffix=l?Te(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=u?Te(u):m||Te("$t("),this.nestingSuffix=y?Te(y):x||Te(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=E||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,r){let i,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const E=as(s,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,n,{...r,...s,interpolationkey:m}):E}const y=m.split(this.formatSeparator),x=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(as(s,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,{...r,...s,interpolationkey:x})};this.resetRegExp();const f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>xt(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?xt(this.escape(m)):xt(m)}].forEach(m=>{for(l=0;i=m.regex.exec(e);){const y=i[1].trim();if(a=d(y),a===void 0)if(typeof f=="function"){const b=f(e,i,r);a=L(b)?b:""}else if(r&&Object.prototype.hasOwnProperty.call(r,y))a="";else if(p){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!L(a)&&!this.useRawValueToEscape&&(a=Zt(a));const x=m.safeValue(a);if(e=e.replace(i[0],x),p?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,a;const l=(c,d)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const p=c.split(new RegExp(`${f}[ ]*{`));let u=`{${p[1]}`;c=p[0],u=this.interpolate(u,a);const m=u.match(/'/g),y=u.match(/"/g);(m&&m.length%2===0&&!y||y.length%2!==0)&&(u=u.replace(/'/g,'"'));try{a=JSON.parse(u),d&&(a={...d,...a})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${f}${u}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!L(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const f=r[1].split(this.formatSeparator).map(p=>p.trim());r[1]=f.shift(),c=f,d=!0}if(i=s(l.call(this,r[1].trim(),a),a),i&&r[0]===e&&!L(i))return i;L(i)||(i=Zt(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),d&&(i=c.reduce((f,p)=>this.format(f,p,n.lng,{...n,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}const Zr=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?s.currency||(s.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?s.range||(s.range=r.trim()):r.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();s[f]||(s[f]=d),d==="false"&&(s[f]=!1),d==="true"&&(s[f]=!0),isNaN(d)||(s[f]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},Oe=t=>{const e={};return(s,n,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const a=n+JSON.stringify(i);let l=e[a];return l||(l=t(ot(n),r),e[a]=l),l(s)}};class ei{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ce.create("formatter"),this.options=e,this.formats={number:Oe((s,n)=>{const r=new Intl.NumberFormat(s,{...n});return i=>r.format(i)}),currency:Oe((s,n)=>{const r=new Intl.NumberFormat(s,{...n,style:"currency"});return i=>r.format(i)}),datetime:Oe((s,n)=>{const r=new Intl.DateTimeFormat(s,{...n});return i=>r.format(i)}),relativetime:Oe((s,n)=>{const r=new Intl.RelativeTimeFormat(s,{...n});return i=>r.format(i,n.range||"day")}),list:Oe((s,n)=>{const r=new Intl.ListFormat(s,{...n});return i=>r.format(i)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=Oe(s)}format(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:d,formatOptions:f}=Zr(c);if(this.formats[d]){let p=l;try{const u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},m=u.locale||u.lng||r.locale||r.lng||n;p=this.formats[d](l,m,{...f,...r,...u})}catch(u){this.logger.warn(u)}return p}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const ti=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class si extends ut{constructor(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=ce.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,s,n,r){const i={},a={},l={},c={};return e.forEach(d=>{let f=!0;s.forEach(p=>{const u=`${d}|${p}`;!n.reload&&this.store.hasResourceBundle(d,p)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?a[u]===void 0&&(a[u]=!0):(this.state[u]=1,f=!1,a[u]===void 0&&(a[u]=!0),i[u]===void 0&&(i[u]=!0),c[p]===void 0&&(c[p]=!0)))}),f||(l[d]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,s,n){const r=e.split("|"),i=r[0],a=r[1];s&&this.emit("failedLoading",i,a,s),!s&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{_r(c.loaded,[i],a),ti(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const f=c.loaded[d];f.length&&f.forEach(p=>{l[d][p]===void 0&&(l[d][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:r,wait:i,callback:a});return}this.readingCalls++;const l=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&f&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,r+1,i*2,a)},i);return}a(d,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,s,l)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();L(e)&&(e=this.languageUtils.toResolveHierarchy(e)),L(s)&&(s=[s]);const i=this.queueLoad(e,s,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${s}loading namespace ${i} for language ${r} failed`,a),!a&&l&&this.logger.log(`${s}loaded namespace ${i} for language ${r}`,l),this.loaded(e,a,l)})}saveMissing(e,s,n,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...a,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let f;d.length===5?f=d(e,s,n,r,c):f=d(e,s,n,r),f&&typeof f.then=="function"?f.then(p=>l(null,p)).catch(l):l(null,f)}catch(f){l(f)}else d(e,s,n,r,l,c)}!e||!e[0]||this.store.addResource(e[0],s,n,r)}}}const ls=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),L(t[1])&&(e.defaultValue=t[1]),L(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),cs=t=>(L(t.ns)&&(t.ns=[t.ns]),L(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),L(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Xe=()=>{},ni=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Ke extends ut{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=cs(e),this.services={},this.logger=ce,this.modules={external:[]},ni(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(L(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const r=ls();this.options={...r,...this.options,...cs(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?ce.init(i(this.modules.logger),this.options):ce.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=ei);const p=new is(this.options);this.store=new ns(this.options.resources,this.options);const u=this.services;u.logger=ce,u.resourceStore=this.store,u.languageUtils=p,u.pluralResolver=new Yr(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(u.formatter=i(f),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Qr(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new si(i(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(m){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];e.emit(m,...x)}),this.modules.languageDetector&&(u.languageDetector=i(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=i(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new lt(this.services,this.options),this.translator.on("*",function(m){for(var y=arguments.length,x=new Array(y>1?y-1:0),b=1;b<y;b++)x[b-1]=arguments[b];e.emit(m,...x)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Xe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const c=ke(),d=()=>{const f=(p,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(u),n(p,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xe;const r=L(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],a=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload&&this.options.preload.forEach(l=>a(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,s,n){const r=ke();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=Xe),this.services.backendConnector.reload(e,s,i=>{r.resolve(),n(i)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ms.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const r=ke();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),s&&s(c,function(){return n.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=L(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,f=>{a(f,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,s,n){var r=this;const i=function(a,l){let c;if(typeof l!="object"){for(var d=arguments.length,f=new Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];c=r.options.overloadTranslationOptionHandler([a,l].concat(f))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const u=r.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(a)?m=a.map(y=>`${c.keyPrefix}${u}${y}`):m=c.keyPrefix?`${c.keyPrefix}${u}${a}`:a,r.t(m,c)};return L(e)?i.lng=e:i.lngs=e,i.ns=s,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const l=s.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!r||a(i,e)))}loadNamespaces(e,s){const n=ke();return this.options.ns?(L(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),s&&s(r)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=ke();L(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=r.concat(i),this.loadResources(a=>{n.resolve(),s&&s(a)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new is(ls());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new Ke(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xe;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new Ke(r);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new ns(this.store.data,r),i.services.resourceStore=i.store),i.translator=new lt(i.services,r),i.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];i.emit(l,...d)}),i.init(r,s),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Y=Ke.createInstance();Y.createInstance=Ke.createInstance;Y.createInstance;Y.dir;Y.init;Y.loadResources;Y.reloadResources;Y.use;Y.changeLanguage;Y.getFixedT;const F=Y.t;Y.exists;Y.setDefaultNamespace;Y.hasLoadedNamespace;Y.loadNamespaces;Y.loadLanguages;const ds=4;function ri({offer:t,selectedNft:e,setSelectedNft:s,setNft:n,setTransactionType:r,inputDrawerHandler:i}){const a=t.props.usdt===!0;return o.jsxs(Rs,{withBorder:!0,children:[o.jsxs(H,{children:[o.jsxs(H.Col,{span:10,children:[o.jsx(j,{fz:"xs",c:"dimmed",ml:"2px",children:t.nft.collectionName}),o.jsx(j,{fw:500,ml:"2px",truncate:"end",children:t.nft.name})]}),o.jsx(H.Col,{span:2,children:o.jsx(hn,{m:"xs",color:"grape",radius:"md",size:"md",checked:e.includes(t),disabled:!e.includes(t)&&e.length>ds-1,onClick:()=>{if(e.includes(t))s(e.filter(l=>l!==t));else if(e.length<ds){const l=e.filter(c=>c.nft!==t.nft);s([...l,t])}},readOnly:!0})})]}),o.jsxs(ie,{preventGrowOverflow:!1,wrap:"nowrap",children:[o.jsx(Ps,{radius:"md",src:t.nft.previewUrl,h:150,w:"auto",fit:"contain",fallbackSrc:"https://placehold.co/200x200?text=NFT"}),o.jsxs(H,{ml:-10,mr:-10,children:[o.jsxs(H.Col,{span:6,children:[o.jsxs(j,{size:"xs",children:[" ",F("Loan"),": "]})," ",o.jsxs(j,{size:"sm",fw:500,children:[t.props.size," ",a?"USDT":"TON"]}),o.jsxs(j,{size:"xs",children:[" ",F("Per day"),": "]})," ",o.jsxs(j,{size:"sm",fw:500,children:[t.props.interest," %"]})]}),o.jsxs(H.Col,{span:6,children:[o.jsxs(j,{size:"xs",children:[" ",F("Term"),": "]})," ",o.jsxs(j,{size:"sm",fw:500,children:[" ",t.props.duration," ",F("days")]}),o.jsxs(j,{size:"xs",children:[" ",F("Minimum"),": "]})," ",o.jsxs(j,{size:"xs",fw:500,children:[" ",t.props.minimal," ",a?"USDT":"TON"]})]}),o.jsx(H.Col,{span:12,children:o.jsxs(ie,{children:[o.jsxs(j,{size:"xs",children:[F("For the entire period"),": "]})," ",o.jsxs(j,{size:"xs",fw:500,children:[t.props.overPayment," ",a?"USDT":"TON"]}),o.jsxs(pt,{width:300,position:"top",withArrow:!0,shadow:"md",children:[o.jsx(pt.Target,{children:o.jsx(Ve,{variant:"default",size:"xs",children:o.jsx(pn,{})})}),o.jsx(pt.Dropdown,{children:o.jsx(j,{size:"xs",children:F(a?"The cost of the loan is calculated per day.":"The cost of the loan is calculated per second.")})})]})]})})]})]}),e.length===0&&o.jsxs(G,{variant:"filled",fullWidth:!0,mt:"xs",color:a?"teal":"blue",onClick:()=>{n(t),r(pe.GET_CREDIT),i.open()},children:[F("Get")," ",t.props.size," ",a?"USDT":"TON"]})]})}function ii({credit:t,tx:e,resetStates:s,isHolder:n,usdtWallet:r}){var a,l,c;const i=t.usdt===!0;return o.jsxs(X,{withBorder:!0,children:[o.jsxs(X.Section,{children:[o.jsx(j,{fz:"xs",c:"dimmed",ml:"2px",children:(a=t.pawn)==null?void 0:a.collectionName}),o.jsx(j,{fw:500,ml:"2px",children:(l=t.pawn)==null?void 0:l.name}),o.jsxs(ie,{preventGrowOverflow:!1,wrap:"nowrap",children:[o.jsx(Fe,{variant:"filled",radius:"sm",src:(c=t.pawn)==null?void 0:c.previewUrl,size:"xl"}),o.jsxs(H,{children:[o.jsxs(H.Col,{span:6,children:[o.jsxs(j,{size:"xs",children:[" ",F("Loan"),": ",t.size," ",i?"USDT":"TON"]}),o.jsxs(j,{size:"xs",children:[" ",F("Per day"),": ",t.interest/100," %"]})]}),o.jsx(H.Col,{span:6,children:o.jsxs(j,{size:"xs",children:[" ",F("Date"),": ",t.end.toLocaleDateString("ru-RU")," "]})}),o.jsx(H.Col,{span:12,children:o.jsxs(j,{size:"xs",children:[F("Debt"),": "," ",o.jsx(re,{value:t.debt,decimalScale:3,suffix:i?" USDT":" TON"})]})})]})]})]}),o.jsx(X.Section,{children:o.jsxs(ie,{gap:"xs",mt:"xs",grow:!0,justify:"space-between",children:[n&&!t.usdt&&o.jsx(G,{variant:"outline",onClick:()=>e.renewalCredit(t.address,t.debt-t.size).then(d=>{console.log("tx.renewalCredit result: ",d),s()}),children:F("Extend")}),o.jsx(G,{onClick:()=>{t.usdt?r&&e.redeemUsdtCredit(t.id,t.debt,r.address).then(d=>{console.log("tx.redeemCredit result: ",d),s()}):e.redeemCredit(t.address,t.debt).then(d=>{console.log("tx.redeemCredit result: ",d),s()})},children:F("Redeem")})]})})]},t.address)}function oi({nfts:t,credits:e,collectionNames:s,tx:n,isHolder:r,allowed:i,reloadNfts:a,resetStates:l,setNft:c,setTransactionType:d,inputDrawerHandler:f,usdtWallet:p}){const{t:u}=me(),[m,y]=S.useState(""),[x,b]=S.useState([]),[E,R]=S.useState(""),[B,T]=S.useState(null),[I,U]=S.useState([]),[N,q]=S.useState([]),[$,M]=S.useState("");S.useEffect(()=>{let g=0,v=0;N.forEach(C=>{C.props.usdt?v+=C.props.size:g+=C.props.size});let w=" ";g>0&&(w+=g+" TON"),g>0&&v>0&&(w+=" & "),v>0&&(w+=v+" USDT"),M(w)},[N]);const D=gn({onDropdownClose:()=>{D.resetSelectedOption(),D.focusTarget(),R("")},onDropdownOpen:()=>{D.focusSearchInput()}}),P=s.filter(g=>g.toLowerCase().includes(E.toLowerCase().trim())).map(g=>o.jsx(Se.Option,{value:g,children:g},g));S.useEffect(()=>{t!==null&&q([])},[t]),S.useEffect(()=>{if(t!==null)if(B===null)U(t);else{const g=t.filter(v=>v.nft.collectionName?v.nft.collectionName===B:!1);U(g)}},[B,t]),S.useEffect(()=>{if(A.Address.isFriendly(m)){const g=I.filter(v=>{const w=A.Address.parse(v.nft.address).toString();return m===w});b(g)}else{const g=I.filter(v=>v.nft.name?v.nft.name.toLowerCase().includes(m.toLowerCase()):!1);b(g)}},[m,I]);const V=g=>{y(g.target.value)};S.useEffect(()=>{y(""),T(null),t!==null&&b(t)},[t]);const k=x.map(g=>o.jsx(ri,{offer:g,selectedNft:N,setSelectedNft:q,setNft:c,setTransactionType:d,inputDrawerHandler:f},g.nft.address+g.props.verifier)),h=e==null?void 0:e.map(g=>o.jsx(ii,{credit:g,tx:n,resetStates:l,isHolder:r,usdtWallet:p},g.address));return o.jsxs(qe,{size:"xl",pl:"0",pr:"0",children:[N.length>0&&o.jsx(mn,{w:"100%",children:o.jsxs(G,{fullWidth:!0,variant:"filled",size:"md",radius:"xs",color:"grape",onClick:()=>{Ur(N).then(g=>n.createCreditMass(g.nftAddresses,g.vItemAddresses,g.forwardPayloads))},children:[u("Get")," ",$]})}),e&&o.jsxs(o.Fragment,{children:[o.jsx(vt,{my:"xs",label:u("In pledge"),labelPosition:"center"}),o.jsx($e,{cols:{base:1,md:2,lg:3},spacing:"md",children:h})]}),o.jsx(vt,{my:"xs",label:u("My NFTs"),labelPosition:"center"}),t?o.jsx(o.Fragment,{children:t.length>0?o.jsxs(o.Fragment,{children:[o.jsxs(ie,{mb:"sm",children:[o.jsx(xn,{radius:"xl",size:"md",style:{width:"100%",flex:1},placeholder:u("Search"),rightSectionWidth:42,value:m,onChange:V,rightSection:o.jsx(bn,{"aria-label":u("Clear"),onClick:()=>{y(""),t!==null&&b(t)},style:{display:m?void 0:"none"}})}),o.jsxs(Se,{store:D,width:250,position:"bottom-start",withArrow:!0,onOptionSubmit:g=>{T(g),D.closeDropdown()},children:[o.jsx(Se.Target,{withAriaAttributes:!1,children:o.jsx(G,{onClick:()=>D.toggleDropdown(),children:u("Collection")})}),o.jsxs(Se.Dropdown,{children:[o.jsx(Se.Search,{value:E,onChange:g=>R(g.currentTarget.value),placeholder:u("Search collection")}),o.jsx(Se.Options,{children:P.length>0?P:o.jsx(Se.Empty,{children:u("Not found")})})]})]}),o.jsx(Ve,{size:"xl","aria-label":"Reload NFTs",loading:!t,loaderProps:{type:"dots"},onClick:()=>a(),children:o.jsx(Ct,{})})]}),o.jsx($e,{cols:{base:1,md:2,lg:3},spacing:"md",children:k})]}):o.jsxs(o.Fragment,{children:[o.jsx(tt,{children:o.jsx(j,{children:u("No NFTs for collateral")})}),o.jsx(ks,{data:i})]})}):o.jsx(dt,{className:zt.loader})]})}const ai="_card_1t8bd_1",li="_cardSection_1t8bd_12",ci="_section_1t8bd_17",di="_input_1t8bd_22",ui="_label_1t8bd_27",fi="_icon_1t8bd_36",hi="_balance_1t8bd_40",pi="_loader_1t8bd_47",gi="_refresh_1t8bd_52",ee={card:ai,cardSection:li,section:ci,input:di,label:ui,icon:fi,balance:hi,loader:pi,refresh:gi};function mi({size:t,style:e,...s}){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 32 32",style:{width:t,height:t,...e},...s,children:o.jsx("path",{d:"M17.922 17.383v-.002c-.11.008-.677.042-1.942.042c-1.01 0-1.721-.03-1.971-.042v.003c-3.888-.171-6.79-.848-6.79-1.658c0-.809 2.902-1.486 6.79-1.66v2.644c.254.018.982.061 1.988.061c1.207 0 1.812-.05 1.925-.06v-2.643c3.88.173 6.775.85 6.775 1.658c0 .81-2.895 1.485-6.775 1.657m0-3.59v-2.366h5.414V7.819H8.595v3.608h5.414v2.365c-4.4.202-7.709 1.074-7.709 2.118c0 1.044 3.309 1.915 7.709 2.118v7.582h3.913v-7.584c4.393-.202 7.694-1.073 7.694-2.116c0-1.043-3.301-1.914-7.694-2.117"})})}const Ye=7;function xi({user:t,bankFinance:e,usdtBankFinance:s,reloadAccount:n,accountLoading:r,tx:i,resetStates:a}){var g,v;const{t:l}=me(),[c,d]=S.useState("1"),[f,p]=S.useState("1"),[u,m]=S.useState(),[y,x]=S.useState(0),[b,E]=S.useState("1"),[R,B]=S.useState("1"),[T,I]=S.useState(),[U,N]=S.useState(0),[q,$]=S.useState(0),[M,D]=S.useState(0),[P,V]=S.useState(0),[k,h]=S.useState(0);return S.useEffect(()=>{if(e===null)return;let w=Math.floor((e.balance+e.credits)/1e7)/100;$(w);let C=y/w*100;D(C)},[e,y]),S.useEffect(()=>{if(t.account!==null){let w=Math.floor(t.account.balance*t.account.rate/t.account.decimals)/t.account.decimals;x(w)}},[t.account]),S.useEffect(()=>{var O;if(s===null)return;let w=Math.floor(100*(s.balance+s.credits)/((O=t.usdtAccount)==null?void 0:O.decimals))/100;V(w);let C=U/w*100;h(C)},[s,U]),S.useEffect(()=>{if(t.usdtAccount!==null){let w=Math.floor(t.usdtAccount.balance*t.usdtAccount.rate/t.usdtAccount.decimals)/t.usdtAccount.decimals;N(w)}},[t.usdtAccount]),o.jsx(o.Fragment,{children:o.jsxs($e,{cols:{base:1,sm:4},spacing:"md",children:[t.account!==null?o.jsx(X,{withBorder:!0,radius:"md",className:ee.card,children:o.jsxs(X.Section,{className:ee.cardSection,children:[o.jsx(wt,{className:ee.icon,size:60,radius:60,color:"blue",children:o.jsx(yn,{style:{width:_(48),height:_(48)},stroke:1.5})}),o.jsx(j,{ta:"center",fz:"lg",fw:700,mt:"md",className:ee.balance,children:o.jsx(re,{value:y,decimalScale:3,suffix:" TON"})}),o.jsx(j,{ta:"center",c:"dimmed",fz:"sm",children:l("Balance")}),o.jsxs(Q,{defaultValue:"deposit",children:[o.jsxs(Q.List,{justify:"center",children:[o.jsx(Q.Tab,{value:"deposit",children:l("Replenishment")}),o.jsx(Q.Tab,{value:"withdraw",disabled:t.account.balance<10,children:l("Withdrawal")}),o.jsx(Q.Tab,{value:"info",children:l("Info")})]}),o.jsxs(Q.Panel,{value:"deposit",children:[o.jsx(Ee,{mt:"md",label:l("Amount")+" TON",placeholder:"1",classNames:ee,defaultValue:1,allowNegative:!1,min:1e-9,max:(g=t.holder)==null?void 0:g.limit,value:c,onChange:d,error:u,decimalScale:Ye,decimalSeparator:",",hideControls:!0,disabled:((v=t.holder)==null?void 0:v.limit)===0,rightSection:o.jsx(G,{size:"compact-md",variant:"outline",onClick:()=>{var w;d(Number((w=t.holder)==null?void 0:w.limit)),console.log("MAX Deposit: ",c+"")},children:"max"})}),o.jsx(G,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{var C;let w=(C=t.holder)!=null&&C.fullLimit?t.holder.fullLimit:0;w&&t.account!==null&&(w=t.account.rate*w,console.log("Deposit Limit: ",w)),i.depositAccount(c,w).then(O=>{console.log("tx.depositAccount result: ",O),a()})},children:l("Top up")}),t.holder&&o.jsxs(j,{ta:"center",c:"dimmed",fz:"sm",children:[l("Available for replenishment"),": "," ",o.jsx(re,{value:Math.floor(t.holder.limit*1e3)/1e3,fixedDecimalScale:!1,suffix:" TON"})]})]}),o.jsxs(Q.Panel,{value:"withdraw",children:[o.jsx(Ee,{mt:"md",label:l("Amount")+" TON",placeholder:"1",classNames:ee,defaultValue:1,allowNegative:!1,min:1e-9,max:y,value:f,onChange:p,error:u,decimalScale:Ye,decimalSeparator:",",hideControls:!0,rightSection:o.jsx(G,{size:"compact-md",variant:"outline",onClick:()=>{p(y),console.log("MAX Withdraw: ",f+"")},children:"max"})}),t.account.balance>0&&o.jsx(G,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{if(t.account!==null&&t.account.address!==null){m(void 0);let w=Math.floor(t.account.decimals*Number(f)/t.account.rate*t.account.decimals)+"";i.withdrawAccount(w,t.account.address.toString()).then(C=>{console.log("tx.withdrawAccount result: ",C),a()})}},children:l("Withdraw")})]}),e&&o.jsxs(Q.Panel,{value:"info",children:[o.jsxs(j,{c:"dimmed",fz:"sm",mt:"md",children:[l("Total pool balance"),": ",q," TON"]}),o.jsxs(j,{c:"dimmed",fz:"sm",mt:"sm",children:[l("Pool share"),": "," ",o.jsx(re,{value:M,fixedDecimalScale:!1,decimalScale:5,suffix:" %"})]})]})]}),o.jsx(Ve,{className:ee.refresh,"aria-label":l("Reload"),variant:"subtle",loading:r,onClick:()=>n(),children:o.jsx(Ct,{})})]})}):o.jsx(dt,{className:ee.loader}),t.usdtAccount!==null&&o.jsx(X,{withBorder:!0,radius:"md",className:ee.card,children:o.jsxs(X.Section,{className:ee.cardSection,children:[o.jsx(wt,{className:ee.icon,size:60,radius:60,color:"teal",children:o.jsx(mi,{style:{width:_(48),height:_(48)}})}),o.jsx(j,{ta:"center",fz:"lg",fw:700,mt:"md",className:ee.balance,children:o.jsx(re,{value:U,decimalScale:3,suffix:" USDT"})}),o.jsx(j,{ta:"center",c:"dimmed",fz:"sm",children:l("Balance")}),o.jsxs(Q,{defaultValue:"deposit",children:[o.jsxs(Q.List,{justify:"center",children:[o.jsx(Q.Tab,{value:"deposit",children:l("Replenishment")}),o.jsx(Q.Tab,{value:"withdraw",disabled:t.usdtAccount.balance<10,children:l("Withdrawal")}),o.jsx(Q.Tab,{value:"info",children:l("Info")})]}),o.jsxs(Q.Panel,{value:"deposit",children:[o.jsx(Ee,{mt:"md",label:l("Amount")+" USDT",placeholder:"1",classNames:ee,defaultValue:1,allowNegative:!1,min:1e-5,value:b,onChange:E,error:T,decimalScale:Ye,decimalSeparator:",",hideControls:!0,rightSection:o.jsx(G,{size:"compact-md",variant:"outline",onClick:()=>{var w,C;E(Number((w=t.usdtWallet)==null?void 0:w.balance)/Number((C=t.usdtWallet)==null?void 0:C.decimals)),console.log("MAX Deposit: ",b+"")},children:"max"})}),o.jsx(G,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{if(t.usdtWallet){const w=Number(b)*t.usdtWallet.decimals;i.depositUsdtAccount(w,t.usdtWallet.address).then(C=>{console.log("tx.depositUsdtAccount result: ",C),a()})}},children:l("Top up")}),t.usdtWallet&&o.jsxs(j,{ta:"center",c:"dimmed",fz:"sm",children:[l("Available for replenishment"),": "," ",o.jsx(re,{value:Math.floor(t.usdtWallet.balance/t.usdtWallet.decimals*1e3)/1e3,fixedDecimalScale:!1,suffix:" USDT"})]})]}),o.jsxs(Q.Panel,{value:"withdraw",children:[o.jsx(Ee,{mt:"md",label:l("Amount")+" USDT",placeholder:"1",classNames:ee,defaultValue:1,allowNegative:!1,min:1e-9,max:U,value:R,onChange:B,error:T,decimalScale:Ye,decimalSeparator:",",hideControls:!0,rightSection:o.jsx(G,{size:"compact-md",variant:"outline",onClick:()=>{B(U),console.log("MAX Withdraw: ",R+"")},children:"max"})}),t.usdtAccount.balance>0&&o.jsx(G,{fullWidth:!0,mt:"sm",radius:"xl",style:{flex:1},onClick:()=>{if(t.usdtAccount!==null&&t.usdtAccount.address!==null){I(void 0);let w=Math.floor(t.usdtAccount.decimals*Number(R)/t.usdtAccount.rate*t.usdtAccount.decimals)+"";i.withdrawAccount(w,t.usdtAccount.address.toString()).then(C=>{console.log("tx.withdrawAccount (usdt) result: ",C),a()})}},children:l("Withdraw")})]}),s&&o.jsxs(Q.Panel,{value:"info",children:[o.jsxs(j,{c:"dimmed",fz:"sm",mt:"md",children:[l("Total pool balance"),": ",P," USDT"]}),o.jsxs(j,{c:"dimmed",fz:"sm",mt:"sm",children:[l("Pool share"),": "," ",o.jsx(re,{value:k,fixedDecimalScale:!1,decimalScale:5,suffix:" %"})]})]})]}),o.jsx(Ve,{className:ee.refresh,"aria-label":l("Reload"),variant:"subtle",loading:r,onClick:()=>n(),children:o.jsx(Ct,{})})]})})]})})}function bi(){const[t,e]=S.useState("light");return S.useEffect(()=>{se.initDataUnsafe.user!==void 0&&e(se.colorScheme)},[]),{colorScheme:t}}function yi(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,n,r,i,a=[],l="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)s=r[0],s==="*"?(a.push(s),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=r.indexOf("?",1),i=r.indexOf(".",1),a.push(r.substring(1,~n?n:~i?i:r.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+r.substring(i))):l+="/"+r;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Bs={exports:{}},zs={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pe=S;function Si(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wi=typeof Object.is=="function"?Object.is:Si,vi=Pe.useState,Ci=Pe.useEffect,ji=Pe.useLayoutEffect,Ti=Pe.useDebugValue;function Oi(t,e){var s=e(),n=vi({inst:{value:s,getSnapshot:e}}),r=n[0].inst,i=n[1];return ji(function(){r.value=s,r.getSnapshot=e,bt(r)&&i({inst:r})},[t,s,e]),Ci(function(){return bt(r)&&i({inst:r}),t(function(){bt(r)&&i({inst:r})})},[t]),Ti(s),s}function bt(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!wi(t,s)}catch{return!0}}function Ai(t,e){return e()}var Ni=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ai:Oi;zs.useSyncExternalStore=Pe.useSyncExternalStore!==void 0?Pe.useSyncExternalStore:Ni;Bs.exports=zs;var Ei=Bs.exports;const Pi=Sn["useInsertionEffect"],Ri=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Li=Ri?S.useLayoutEffect:S.useEffect,Ii=Pi||Li,Fs=t=>{const e=S.useRef([t,(...s)=>e[0](...s)]).current;return Ii(()=>{e[0]=t}),e[1]},Ui="popstate",Ft="pushState",$t="replaceState",ki="hashchange",us=[Ui,Ft,$t,ki],Di=t=>{for(const e of us)addEventListener(e,t);return()=>{for(const e of us)removeEventListener(e,t)}},$s=(t,e)=>Ei.useSyncExternalStore(Di,t,e),_i=()=>location.search,Mi=({ssrSearch:t=""}={})=>$s(_i,()=>t),fs=()=>location.pathname,Bi=({ssrPath:t}={})=>$s(fs,t?()=>t:fs),zi=(t,{replace:e=!1,state:s=null}={})=>history[e?$t:Ft](s,"",t),Fi=(t={})=>[Bi(t),zi],hs=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[hs]>"u"){for(const t of[Ft,$t]){const e=history[t];history[t]=function(){const s=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,hs,{value:!0})}const $i=(t="",e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Vi=(t,e="")=>t[0]==="~"?t.slice(1):e+t,Hi=t=>{try{return decodeURI(t)}catch{return t}},Vs={hook:Fi,searchHook:Mi,parser:yi,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Hs=S.createContext(Vs),Je=()=>S.useContext(Hs),Ks={},Ws=S.createContext(Ks),Ki=()=>S.useContext(Ws),ft=t=>{const[e,s]=t.hook(t);return[Hi($i(t.base,e)),Fs((n,r)=>s(Vi(n,t.base),r))]},Wi=()=>ft(Je()),qs=(t,e,s,n)=>{const{pattern:r,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=r.exec(s)||[],[l,...c]=a;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((p,u)=>[p,c[u]])):a.groups;let f={...c};return d&&Object.assign(f,d),f})(),...n?[l]:[]]:[!1,null]},qi=({children:t,...e})=>{var f,p;const s=Je(),n=e.hook?Vs:s;let r=n;const[i,a]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let l=S.useRef({}),c=l.current,d=c;for(let u in n){const m=u==="base"?n[u]+(e[u]||""):e[u]||n[u];c===d&&m!==d[u]&&(l.current=d={...d}),d[u]=m,m!==n[u]&&(r=d)}return S.createElement(Hs.Provider,{value:r,children:t})},ps=({children:t,component:e},s)=>e?S.createElement(e,{params:s}):typeof t=="function"?t(s):t,Ji=t=>{let e=S.useRef(Ks),s=e.current;for(const n in t)t[n]!==s[n]&&(s=t);return e.current=s},Ae=({path:t,nest:e,match:s,...n})=>{const r=Je(),[i]=ft(r),[a,l,c]=s??qs(r.parser,t,i,e),d=Ji({...Ki(),...l});if(!a)return null;const f=c?S.createElement(qi,{base:c},ps(n,d)):ps(n,d);return S.createElement(Ws.Provider,{value:d,children:f})},De=S.forwardRef((t,e)=>{const s=Je(),[n,r]=ft(s),{to:i,href:a=i,onClick:l,asChild:c,children:d,className:f,replace:p,state:u,...m}=t,y=Fs(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),r(a,t)))}),x=s.hrefs(a[0]==="~"?a.slice(1):s.base+a,s);return c&&S.isValidElement(d)?S.cloneElement(d,{onClick:y,href:x}):S.createElement("a",{...m,onClick:y,href:x,className:f!=null&&f.call?f(n===a):f,children:d,ref:e})}),Js=t=>Array.isArray(t)?t.flatMap(e=>Js(e&&e.type===S.Fragment?e.props.children:e)):[t],Gi=({children:t,location:e})=>{const s=Je(),[n]=ft(s);for(const r of Js(t)){let i=0;if(S.isValidElement(r)&&(i=qs(s.parser,r.props.path,e||n,r.props.nest))[0])return S.cloneElement(r,{match:i})}return null},Xi="_icon_1u5u8_1",Yi="_dark_1u5u8_6",Qi="_light_1u5u8_16",Zi="_inner_1u5u8_26",eo="_main_1u5u8_33",to="_txt_1u5u8_37",Ne={icon:Xi,dark:Yi,light:Qi,inner:Zi,main:eo,txt:to},Gs=1e3;var _e=[],gs=0,Pt=1.2,Me=Gs/Pt;const so=t=>{Pt=t,Me=Gs/Pt},nt=t=>{let e,s=Date.now();if(t!==void 0?s-gs<Me?(_e.push(t),_e.length===1&&setTimeout(nt,Me)):e=t:e=_e.shift(),e!==void 0){let n=e;gs=s,fetch(e.url,e.data).then(r=>{n.onResponse(r),_e.length>0&&setTimeout(nt,Me)}).catch(r=>{n.onError(r),_e.length>0&&setTimeout(nt,Me)})}},Xs=(t,e)=>new Promise((s,n)=>{nt({url:t,data:e,onResponse:s,onError:n})}),Rt={method:"get"};let Lt;const oe={ACCOUNTS:"accounts/",COLLECTIONS:"nfts/collections/",BLOCKCHAIN_ACCOUNTS:"blockchain/accounts/"},ae={NONE:"",NFTS:"/nfts",ITEMS:"/items",JETTONS:"/jettons",METHODS:"/methods",EVENTS:"/events",TRANSACTIONS:"/transactions"};function le(t,e,s,n){let r=Lt+e+t+s;return n!==void 0&&(r+=n),Xs(r,Rt).then(i=>i.json())}const ye={init:async t=>{Rt.headers=new Headers({Authorization:"Bearer "+t.tonApiProps.clientSideKey,"Content-Type":"application/json",accept:"application/json"}),Lt=t.tonApiProps.serverUrl,t.tonApiProps.limitPerSecond&&so(t.tonApiProps.limitPerSecond)},account:async t=>le(t.toRawString(),oe.ACCOUNTS,ae.NONE),accountNfts:async(t,e,s,n)=>e===void 0?le(t.toRawString(),oe.ACCOUNTS,ae.NFTS):le(t.toRawString(),oe.ACCOUNTS,ae.NFTS,"?indirect_ownership="+(e?"true":"false")+(s!==void 0?"&limit="+s:"")+(n!==void 0?"&offset="+n:"")),accountJettons:async t=>le(t.toRawString(),oe.ACCOUNTS,ae.JETTONS),method:async(t,e,s)=>le(t.toString(),oe.BLOCKCHAIN_ACCOUNTS,ae.METHODS,s!==void 0?"/"+e+"?args="+s:"/"+e),nftBulk:async t=>{const e={method:"post",body:JSON.stringify({account_ids:t}),headers:Rt.headers};return Xs(Lt+"nfts/_bulk",e).then(s=>s.json())},accountEvents:async(t,e,s,n)=>{let r;return typeof t=="string"?r=t:r=t.toRawString(),le(r,oe.ACCOUNTS,ae.EVENTS,"?limit="+(e!==void 0?e:"10")+(s!==void 0?"&start_date="+s:"")+(n!==void 0?"&end_date="+n:""))},accountTransactions:async(t,e,s,n)=>{let r;return typeof t=="string"?r=t:r=t.toRawString(),le(r,oe.BLOCKCHAIN_ACCOUNTS,ae.TRANSACTIONS,"?limit="+(e!==void 0?e:"10")+(s!==void 0?"&before_lt="+s:"")+(n!==void 0?"&after_lt="+n:""))},collection:async t=>le(t.toRawString(),oe.COLLECTIONS,ae.NONE),collectionNfts:async(t,e,s)=>e===void 0?le(t.toRawString(),oe.COLLECTIONS,ae.ITEMS):le(t.toRawString(),oe.COLLECTIONS,ae.ITEMS,"?limit="+e+(s!==void 0?"&offset="+s:""))};function It(t){const e={},s=t.metadata.attributes;return s instanceof Array&&s.map(r=>e[r.trait_type]=r.value),{address:t.address,owner:t.owner.address,previewUrl:t.previews[2].url,name:t.metadata.name,collectionName:" ",collectionAddress:" ",description:t.metadata.description,attributes:e,tokenId:t.index,addressFriendly:A.Address.parse(t.address).toString()}}function Ys(t,e,s,n){const r=[],i=[],a={};t.map(l=>{const c=l.collection;if(c!==void 0&&e.indexOf(c.address)>-1){const d=It(l);d.collectionName=c.name,d.collectionAddress=c.address,s.indexOf(c.address)<0&&(a[c.name]=c.name),r.push(d);return}if(n.indexOf(l.address)>-1){const d=It(l);r.push(d);return}});for(const l in a)i.push(l);return{nftItems:r,collectionNames:i}}function no(t,e,s,n){return ro(t,e,s,n).then(r=>{let i=r.nftItems,a=r.collectionNames;return{nftItems:i,collectionNames:a}})}async function ro(t,e,s,n){let r=1e3,i=0,a=[];for(;r>0;){let l=await ye.accountNfts(t,!1,r,i);const c=l.nft_items;c instanceof Array?(c.length<r&&(r=0),a.push(...c),i+=r):Promise.reject("[getListNft] Error: "+JSON.stringify(l))}return Ys(a,e,s,n)}const ms={STATUS_NOT_INIT:0,STATUS_INIT:1,STATUS_ACTIVE:2,STATUS_INACTIVE:3,STATUS_AUCTION_STARTED:4};function io(t,e){const s=t.name.startsWith("USDT"),n=s?He:rt,r=s?Pr:Er;let i=t.description.split("+");const a=+i[3]/n,l=+i[4],c=+i[5],d=+i[6],f=Math.floor(Date.now()/1e3);let p,u=f-d;s&&u<je?u=(Math.floor(u/je)+1)*je:u<je&&(u=je);let m=a*u*l/je/Nr;m<r&&(m=r);const y=a+m,x=new Date((d+c)*1e3);let b=+i[2];if(b===ms.STATUS_ACTIVE)x.getTime()<Date.now()?b=K.WAIT_START_BID:b=K.ACTIVE;else if(b===ms.STATUS_AUCTION_STARTED){b=K.AUCTION_STARTED;const R=+i[7]/n,B=i[8],T=new Date(+i[9]*1e3);p={bid:R,bidder:B,finish:T,isMy:e==B},T.getTime()<Date.now()&&(b=K.AUCTION_FINISHED)}else b=K.ERROR;return{id:Number(t.tokenId),address:t.address,borrower:t.owner,pawnAddress:i[1],status:b,size:a,interest:l,duration:c,start:d,debt:y,end:x,auction:p,usdt:s}}async function Qs(t,e,s){const n=[],r={},i=[];if(t.map(a=>{const l=io(a,e);s?l.status<K.AUCTION_STARTED&&(n.push(l),r[l.pawnAddress]=l,i.push(l.pawnAddress)):(n.push(l),r[l.pawnAddress]=l,i.push(l.pawnAddress))}),i.length>0){const l=(await ye.nftBulk(i)).nft_items;l instanceof Array&&l.map(c=>{const d=It(c);d.collectionName=c.collection.name,d.collectionAddress=c.collection.address;let f=r[d.addressFriendly];f&&(f.pawn=d)})}return console.log("[getListCredit] creditList: ",n),n}async function oo(t,e){const s=[];for(let r=0;r<t.length;r++){const i=t[r];let a=1e3,l=0;for(;a>0;){let c=await ye.collectionNfts(A.Address.parse(i),a,l);const d=c.nft_items;d instanceof Array?(d.length<a&&(a=0),s.push(...d),l+=a):Promise.reject("[getListNft] Error: "+JSON.stringify(c))}}const n=Ys(s,t,[],[]);return Qs(n.nftItems,e)}let fe=null,Qe=null,yt=null;function ao(t){const e=t.allowedUsdtCollectionsProps!==void 0?t.allowedUsdtCollectionsProps:[],[s]=S.useState({address:null,account:null,usdtAccount:null,holder:null}),[n,r]=S.useState(!0),[i,a]=S.useState(null),[l,c]=S.useState(null),[d,f]=S.useState(null),[p,u]=S.useState([]),m=Bt(),y=A.Address.parse(t.bankAddress),x=t.usdtBankAddress?A.Address.parse(t.usdtBankAddress):null,b=t.usdtMaster?A.Address.parse(t.usdtMaster):null,E=t.holderCollections,R=t.creditCollectionAddress,B=[];for(let P=0;P<t.allowedCollectionsProps.length;P++){const V=t.allowedCollectionsProps[P];B.push(V.address)}const T=[];for(let P=0;P<e.length;P++){const V=e[P];T.push(V.address)}const I=[];for(let P=0;P<t.allowedCustomNftProps.length;P++){const V=t.allowedCustomNftProps[P];I.push(V.address)}const U=()=>(r(!0),new Promise((P,V)=>{ye.method(y,"get_finance").then(k=>{if(k.success===!0){let h={balance:Number(k.stack[0].num),rate:Number(k.stack[1].num),credits:Number(k.stack[2].num)};console.log("[reloadBank] financeData: ",k),Qe=h,P(h)}else V("[reloadBank] Error get_finance:: "+JSON.stringify(k))})})),N=()=>new Promise((P,V)=>{x===null?P(!0):ye.method(x,"get_finance").then(k=>{if(k.success===!0){let h={balance:Number(k.stack[0].num),rate:Number(k.stack[1].num),credits:Number(k.stack[2].num)};console.log("[reloadUsdtBank] financeData: ",k),yt=h,P(h)}else V("[reloadBank] Error get_finance:: "+JSON.stringify(k))})}),q=()=>fe===null?Promise.reject("[reloadAccount] myAddress is null"):ye.accountJettons(fe).then(P=>{if(Qe===null)return Promise.reject("[reloadAccount] bankFinance is null");const V=Qe,k=yt;console.log("[reloadAccount] data: ",P);let h=P.balances,g=null,v=null,w=null;if(h){for(let C=0;C<h.length;C++){const O=h[C],z=A.Address.parse(O.jetton.address);y.equals(z)?g=O:x&&x.equals(z)?v=O:b&&b.equals(z)&&(w=O)}if(w!==null&&(s.usdtWallet={address:A.Address.parse(w.wallet_address.address),balance:Number(w.balance),decimals:Math.pow(10,w.jetton.decimals)}),v!==null){const C=Math.pow(10,v.jetton.decimals),O={address:A.Address.parse(v.wallet_address.address),balance:Number(v.balance),decimals:C,rate:C};k&&(O.rate=k.rate),s.usdtAccount=O}else k!==null&&(s.usdtAccount={address:null,balance:0,decimals:rt,rate:k.rate});if(g!==null){const C=Math.pow(10,g.jetton.decimals),O={address:A.Address.parse(g.wallet_address.address),balance:Number(g.balance),decimals:C,rate:V.rate};s.account=O}else s.account={address:null,balance:0,decimals:rt,rate:V.rate};if(s.holder){let C=s.holder.fullLimit;C-=s.account.rate/s.account.decimals*s.account.balance/s.account.decimals,s.holder.limit=C,s.holder.limit<0&&(s.holder.limit=0)}return r(!1),!0}}),$=()=>{if(a(null),c(null),fe===null)return Promise.reject("[reloadNfts] MyAddress is null");let P=[...B,...T,...E,...R];return no(fe,P,R,I).then(V=>{console.log("[reloadNfts] data: ",V),u(V.collectionNames);let k=[],h=[],g=0;const v=t.holderCollectionsProps,w=t.allowedCollectionsProps,C=e,O=t.allowedCustomNftProps;if(V.nftItems.map(z=>{let de=z.collectionAddress,J=E.indexOf(de);if(J>-1){let Ie=v[J].limitAttributeName,be=v[J].limitAttributes;if(Ie){let ht=z.attributes[Ie];if(ht){let Vt=be[ht],ln=Vt===void 0?be.default:Vt;g+=ln}}else g+=be.default}const te=I.indexOf(z.address);te>-1&&(z.allowed=O[te],k.push({props:O[te],nft:z}));const xe=B.indexOf(de);xe>-1&&te===-1&&(z.allowed=w[xe],k.push({props:w[xe],nft:z}));const Le=T.indexOf(de);Le>-1&&te===-1&&(z.allowed=C[Le],k.push({props:C[xe],nft:z})),R.indexOf(de)>-1&&h.push(z)}),a(k),g>0){let z={limit:g,fullLimit:g};s.holder=z}if(h.length>0)return Qs(h,"",!0).then(z=>{c(z)})})},M=()=>fe===null?Promise.reject("[reloadAuctions] myAddress is null"):s.holder===null?Promise.resolve(!1):oo(R,fe.toString()).then(P=>{f(P)});return S.useEffect(()=>{if(m===null){fe=null,s.address=null,s.account=null,s.holder=null,a(null),c(null);return}fe=A.Address.parse(m.account.address),s.address=fe,U().then(N).then($).then(q).then(M)},[m,t]),{user:s,reloadAccount:q,accountLoading:n,bankFinance:Qe,usdtBankFinance:yt,nfts:i,credits:l,auctions:d,collectionNames:p,reloadNftsAndAuctions:()=>$().then(()=>M())}}function lo({activeState:t,errorState:e}){const{t:s}=me();return o.jsxs(Ge,{active:t,orientation:"vertical",children:[o.jsx(Ge.Step,{label:s("Transaction"),description:s("Confirm the transaction in your wallet"),loading:t===1&&e!==1,completedIcon:e===1?o.jsx(Wt,{style:{width:_(20),height:_(20)}}):"",color:e===1?"red":""}),o.jsx(Ge.Step,{label:s("Checking"),description:s("Checking the transaction progress. Please wait."),loading:t===2&&e!==2,completedIcon:e===2?o.jsx(Wt,{style:{width:_(20),height:_(20)}}):"",color:e===2?"red":""}),o.jsx(Ge.Step,{label:s("Update"),description:s("Updating data from the blockchain."),loading:t===3})]})}function co({activeState:t,errorState:e}){const[s,{open:n,close:r}]=st(!1),{t:i}=me();return S.useEffect(()=>{t>0?(console.log("[TransactionModal] open: ",t),n()):(console.log("[TransactionModal] close: ",t),r())},[t]),o.jsx(wn,{opened:s,onClose:r,title:i("Conducting a transaction"),centered:!0,children:t>0&&o.jsx(lo,{activeState:t,errorState:e})})}const xs=4,he=A.toNano("0.20"),Ze=A.toNano("0.1"),Zs=A.toNano("0.03"),bs=(2n*Zs+he).toString(),ys=(t,e,s)=>A.beginCell().storeUint(1607220500,32).storeUint(0,64).storeAddress(e).storeAddress(t).storeUint(0,1).storeCoins(he).storeBuilder(s.asBuilder()).endCell();function uo(t){const[e]=Mt(),s=Bt(),[n,r]=S.useState("");return S.useEffect(()=>{r(s===null?"":s.account.address)},[s]),{sender:{depositAccount:async(i,a)=>{const l=A.beginCell().storeUint(65537,32).storeUint(1,64).storeCoins(A.toNano(i)).storeCoins(BigInt(a)).endCell(),c=A.toNano(i)+Ze,d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:t.bankAddress,amount:c.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(d)},withdrawAccount:async(i,a)=>{const l=A.beginCell().storeUint(1499400124,32).storeUint(1,64).storeCoins(BigInt(i)).storeAddress(A.Address.parse(n)).storeUint(0,1).endCell(),c={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:a,amount:Ze.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(c)},createCredit:async(i,a,l)=>{const c=ys(A.Address.parse(n),A.Address.parse(a),l),d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:bs,payload:c.toBoc().toString("base64")}]};return e.sendTransaction(d)},createCreditMass:async(i,a,l)=>{const c=[],d=i.length>xs?xs:i.length,f=A.Address.parse(n);for(let u=0;u<d;u++){const m=ys(f,A.Address.parse(a[u]),l[u]);c.push({address:i[u],amount:bs,payload:m.toBoc().toString("base64")})}const p={validUntil:Math.floor(Date.now()/1e3)+360,messages:c};return e.sendTransaction(p)},renewalCredit:async(i,a)=>{const l=A.beginCell().storeUint(65541,32).storeUint(1,64).endCell();let c=A.toNano(a)+Zs;const d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:c.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(d)},redeemCredit:async(i,a)=>{const l=A.beginCell().storeUint(65540,32).storeUint(1,64).endCell();let c=A.toNano(a)+he;const d={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:c.toString(),payload:l.toBoc().toString("base64")}]};return e.sendTransaction(d)},makeBid:async(i,a)=>{const l=A.toNano(a),c=A.beginCell().storeUint(65542,32).storeUint(1,64).storeCoins(l).endCell();let d=l+he;const f={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:d.toString(),payload:c.toBoc().toString("base64")}]};return e.sendTransaction(f)},takeLot:async i=>{const a=A.beginCell().storeUint(65543,32).storeUint(1,64).endCell(),l={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:i,amount:he.toString(),payload:a.toBoc().toString("base64")}]};return e.sendTransaction(l)},depositUsdtAccount:async(i,a)=>{const l=A.Address.parse(n),c=A.beginCell().storeUint(196609,32).endCell(),d=A.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(i).storeAddress(A.Address.parse(t.usdtBankAddress)).storeAddress(l).storeMaybeRef(null).storeCoins(Ze/2n).storeBit(!0).storeRef(c).endCell(),f=Ze,p={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:a.toString(),amount:f.toString(),payload:d.toBoc().toString("base64")}]};return e.sendTransaction(p)},redeemUsdtCredit:async(i,a,l)=>{const c=A.Address.parse(n),d=A.beginCell().storeUint(65540,32).storeUint(i,32).endCell(),f=a*He,p=A.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(f).storeAddress(A.Address.parse(t.usdtVerifier)).storeAddress(c).storeMaybeRef(null).storeCoins(he-A.toNano("0.02")).storeBit(!0).storeRef(d).endCell(),u={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:l.toString(),amount:he.toString(),payload:p.toBoc().toString("base64")}]};return e.sendTransaction(u)},takeUsdtPawn:async(i,a,l)=>{const c=A.Address.parse(n),d=A.beginCell().storeUint(65543,32).storeUint(i,32).endCell(),f=a*He,p=A.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(f).storeAddress(A.Address.parse(t.usdtVerifier)).storeAddress(c).storeMaybeRef(null).storeCoins(he-A.toNano("0.02")).storeBit(!0).storeRef(d).endCell(),u={validUntil:Math.floor(Date.now()/1e3)+360,messages:[{address:l.toString(),amount:he.toString(),payload:p.toBoc().toString("base64")}]};return e.sendTransaction(u)},walletAddress:n}}}const W={NONE:0,APPROVE:1,CHECK:2,RELOAD:3},Ut=[1e4,15e3,2e4,3e4];function en(t,e,s,n,r,i){ye.accountTransactions(r,5).then(a=>{console.log("--+ Tonapi.accountTransactions: ",a),console.log("--+ Tonapi.accountTransactions extHash: ",i);const l=a.transactions;let c=!0;if(l instanceof Array&&l.length>0)for(let d=0;d<l.length;d++){const f=l[d];if(f.in_msg.hash===i&&f.success===!0){c=!1,t("Ok");break}}if(c){const d=s+1;d>3?e("Max attempt"):setTimeout(()=>{en(t,e,d,n,r,i)},Ut[d-1])}}).catch(a=>e(a))}function fo(t,e,s){const{sender:n}=uo(t),[r,i]=S.useState(W.NONE),[a,l]=S.useState(W.NONE),[c,d]=S.useState(0),f=()=>{i(W.NONE),l(W.NONE)},p=(y,x)=>{i(W.CHECK);const b=A.Cell.fromBase64(x).hash().toString("hex");return new Promise((E,R)=>{setTimeout(()=>{en(E,R,1,c,y,b)},Ut[0])}).catch(E=>{console.warn("useSendTransaction STATE.CHECK sellNft: ",r,E),l(W.CHECK)})},u=y=>(i(W.RELOAD),new Promise((x,b)=>{setTimeout(()=>{y().then(x).catch(b)},Ut[3])}).catch(x=>{console.warn("useSendTransaction STATE.RELOAD doReload: ",r,x),l(W.RELOAD)})),m=y=>{console.warn("useSendTransaction STATE.APPROVE catchApprove: ",r,y),l(W.APPROVE)};return{tx:{depositAccount:async(y,x)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.depositAccount(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(e)).catch(m)),withdrawAccount:async(y,x)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.withdrawAccount(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(e)).catch(m)),createCredit:async(y,x,b)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.createCredit(y,x,b).then(E=>p(n.walletAddress,E.boc)).then(()=>u(s)).catch(m)),createCreditMass:async(y,x,b)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.createCreditMass(y,x,b).then(E=>p(n.walletAddress,E.boc)).then(()=>u(s)).catch(m)),redeemCredit:async(y,x)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.redeemCredit(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(s)).catch(m)),renewalCredit:async(y,x)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.renewalCredit(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(s)).catch(m)),makeBid:async(y,x)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.makeBid(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(s)).catch(m)),takeLot:async y=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.takeLot(y).then(x=>p(n.walletAddress,x.boc)).then(()=>u(s)).catch(m)),depositUsdtAccount:async(y,x)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.depositUsdtAccount(y,x).then(b=>p(n.walletAddress,b.boc)).then(()=>u(e)).catch(m)),redeemUsdtCredit:async(y,x,b)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.redeemUsdtCredit(y,x,b).then(E=>p(n.walletAddress,E.boc)).then(()=>u(s)).catch(m)),takeUsdtPawn:async(y,x,b)=>(i(W.APPROVE),d(Math.floor(Date.now()/1e3)),n.takeUsdtPawn(y,x,b).then(E=>p(n.walletAddress,E.boc)).then(()=>u(s)).catch(m))},activeState:r,errorState:a,resetStates:f}}const ho=["Error","Not expired","Loan repaid","Waiting for the bid","Auction in progress","Auction is over"];function po({auction:t,tx:e,resetStates:s,setCredit:n,setTransactionType:r,inputDrawerHandler:i,usdtWallet:a}){var c,d,f,p,u,m,y,x;const l=t.usdt===!0;return o.jsxs(X,{withBorder:!0,children:[o.jsxs(X.Section,{children:[o.jsx(j,{fz:"xs",c:"dimmed",ml:"2px",children:(c=t.pawn)==null?void 0:c.collectionName}),o.jsx(j,{fw:500,ml:"2px",children:(d=t.pawn)==null?void 0:d.name}),o.jsxs(ie,{preventGrowOverflow:!1,wrap:"nowrap",children:[o.jsx(Fe,{variant:"filled",radius:"sm",src:(f=t.pawn)==null?void 0:f.previewUrl,size:"xl"}),o.jsxs(H,{children:[t.status<K.AUCTION_STARTED&&o.jsxs(o.Fragment,{children:[o.jsx(H.Col,{span:6,children:o.jsxs(j,{size:"xs",children:[" ",F("Loan"),": ",t.size," ",l?"USDT":"TON"]})}),o.jsx(H.Col,{span:6,children:o.jsxs(j,{size:"xs",children:[" ",F("Date"),": ",t.end.toLocaleDateString("ru-RU")," "]})})]}),t.status===K.AUCTION_STARTED&&o.jsx(H.Col,{span:12,children:o.jsxs(j,{size:"xs",children:[" ",F("End"),": ",((p=t.auction)==null?void 0:p.finish.toLocaleDateString("ru-RU"))+" "+((u=t.auction)==null?void 0:u.finish.toLocaleTimeString("ru-RU"))," "]})}),o.jsx(H.Col,{span:12,children:o.jsxs(j,{size:"xs",children:[F("Status"),": ",l&&t.status===K.WAIT_START_BID?F("Waiting for ransom"):F(ho[t.status]),"."]})}),o.jsxs(H.Col,{span:12,children:[!l&&t.status<K.AUCTION_STARTED&&o.jsxs(j,{size:"xs",children:[F("Start bid"),": "," ",o.jsx(re,{value:Nt*t.size+t.size,decimalScale:3,suffix:l?" USDT":" TON"})]}),l&&t.status<K.AUCTION_STARTED&&o.jsxs(j,{size:"xs",children:[F("Redemption cost"),": "," ",o.jsx(re,{value:t.debt,decimalScale:3,suffix:l?" USDT":" TON"})]}),o.jsxs(ie,{children:[t.status===K.AUCTION_STARTED&&o.jsxs(j,{size:"xs",children:[F("Current bid"),": "," ",o.jsx(re,{value:(m=t.auction)==null?void 0:m.bid,decimalScale:3,suffix:l?" USDT":" TON"})]}),((y=t.auction)==null?void 0:y.isMy)&&o.jsxs(j,{c:"teal.4",size:"xs",children:[" ",F("My")," "]})]})]})]})]})]}),o.jsxs(X.Section,{children:[!l&&t.status>K.CREDIT_CLOSED&&t.status<K.AUCTION_FINISHED&&o.jsx(G,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{n(t),r(pe.MAKE_BET),i.open()},children:F("Make bid")}),!l&&t.status===K.AUCTION_FINISHED&&((x=t.auction)==null?void 0:x.isMy)&&o.jsx(G,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{e.takeLot(t.address).then(b=>{console.log("tx.makeBid result: ",b),s()})},children:F("Take lot")}),l&&t.status>K.CREDIT_CLOSED&&t.status<K.AUCTION_FINISHED&&o.jsx(G,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{a&&e.takeUsdtPawn(t.id,t.debt,a.address).then(b=>{console.log("tx.makeBid result: ",b),s()})},children:F("Buy out")})]})]},t.address)}function go({auctions:t,tx:e,resetStates:s,setCredit:n,setTransactionType:r,inputDrawerHandler:i,usdtWallet:a}){const{t:l}=me(),[c,d]=S.useState([]);S.useEffect(()=>{if(t===null)return;const p=[...t];p.sort(function(u,m){return u.end.getTime()-m.end.getTime()}),d(p)},[t]);const f=c.map(p=>o.jsx(po,{auction:p,tx:e,resetStates:s,setCredit:n,setTransactionType:r,inputDrawerHandler:i,usdtWallet:a},p.address));return o.jsxs(qe,{size:"xl",pl:"0",pr:"0",children:[o.jsx(vt,{my:"xs",label:l("Auctions"),labelPosition:"center"}),t?o.jsx($e,{cols:{base:1,md:2,lg:3},spacing:"md",children:f}):o.jsx(dt,{className:zt.loader})]})}const mo=["Borrow","Make bid"];function xo({offer:t,auction:e,transactionType:s,opened:n,handler:r,tx:i,resetStates:a,bankFinance:l,usdtBankFinance:c}){var I,U,N,q,$;const{t:d}=me(),[f,p]=S.useState(1),[u,m]=S.useState(1),[y,x]=S.useState(0),[b,E]=S.useState(1),[R,B]=S.useState(.1),T=(t==null?void 0:t.props.usdt)===!0;return S.useEffect(()=>{if(s===pe.GET_CREDIT&&t!==null){const M=t.props.interest/100;let D=t.props.duration*Number(f)*M;D<.1&&(D=.1),E(parseFloat(D.toFixed(3)));let P=Number(f)*M;P<.1&&(P=.1),B(parseFloat(P.toFixed(2)))}},[f,t]),S.useEffect(()=>{if(s===pe.GET_CREDIT&&t!==null&&p(t.props.size),s===pe.MAKE_BET&&e!==null){let M=0;e.status===K.WAIT_START_BID&&(M=Nt*e.size+e.size),e.status===K.AUCTION_STARTED&&(M=Nt*e.size+e.auction.bid),M=Math.floor(M*1e3)/1e3,m(M),p(M)}},[s,t,e]),S.useEffect(()=>{if(t!=null&&t.props.usdt){if(c===null)return;let M=c.balance/He;x(M)}else{if(l===null)return;let M=l.balance/rt;x(M)}},[l,c,t]),o.jsxs(vn,{opened:n,onClose:()=>{r.close()},position:"top",size:"md",overlayProps:{backgroundOpacity:.5,blur:4},transitionProps:{transition:"rotate-left",duration:150,timingFunction:"linear"},closeButtonProps:{icon:o.jsx(Cn,{size:32,stroke:1.5})},title:d(mo[s]),children:[o.jsx(jn.InitialFocus,{}),t!==null&&l!==null&&s===pe.GET_CREDIT?o.jsxs(o.Fragment,{children:[o.jsxs(X,{withBorder:!0,children:[o.jsxs(X.Section,{children:[o.jsx(j,{fz:"xs",c:"dimmed",ml:"2px",children:t.nft.collectionName}),o.jsx(j,{fw:500,ml:"2px",truncate:"end",children:t.nft.name}),o.jsxs(ie,{preventGrowOverflow:!1,wrap:"nowrap",children:[o.jsx(Fe,{variant:"filled",radius:"sm",src:t.nft.previewUrl,size:"xl"}),o.jsxs(H,{children:[o.jsxs(H.Col,{span:6,children:[o.jsxs(j,{size:"xs",children:[" ",d("Loan"),": ",t.props.size," ",T?"USDT":"TON"]}),o.jsxs(j,{size:"xs",children:[" ",d("Per day"),": ",t.props.interest," %"]})]}),o.jsxs(H.Col,{span:6,children:[o.jsxs(j,{size:"xs",children:[" ",d("Term"),": ",t.props.duration," ",d("days")]}),o.jsxs(j,{size:"xs",children:[" ",d("Minimum"),": ",R," ",T?"USDT":"TON"]})]}),o.jsx(H.Col,{span:12,children:o.jsxs(j,{size:"xs",children:[d("For the entire period"),": ",b," ",T?"USDT":"TON"]})})]})]})]}),o.jsx(X.Section,{})]},t.nft.address),o.jsx(Ee,{label:d("Enter the loan amount")+(T?" USDT":" TON"),description:d("Maximum")+": "+t.props.size+(T?" USDT":" TON"),defaultValue:t.props.size,allowNegative:!1,value:f,onChange:p,allowedDecimalSeparators:[".",","],clampBehavior:"strict",min:1,max:t.props.size}),Number(f)<y?o.jsxs(G,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{r.close(),Ds(t.nft,Number(f)).then(M=>{i.createCredit(t.nft.address,t.props.verifier,M).then(D=>{console.log("tx.createCredit result: ",D),a()})})},children:[d("Get")," ",f," ",T?"USDT":"TON"]}):o.jsx(j,{c:"red.4",children:d("Not enough funds in the lending pool.")})]}):o.jsx(dt,{className:zt.loader}),e&&s===pe.MAKE_BET&&o.jsxs(o.Fragment,{children:[o.jsx(X,{withBorder:!0,children:o.jsxs(X.Section,{children:[o.jsx(j,{fz:"xs",c:"dimmed",ml:"2px",children:(I=e.pawn)==null?void 0:I.collectionName}),o.jsx(j,{fw:500,ml:"2px",children:(U=e.pawn)==null?void 0:U.name}),o.jsxs(ie,{preventGrowOverflow:!1,wrap:"nowrap",children:[o.jsx(Fe,{variant:"filled",radius:"sm",src:(N=e.pawn)==null?void 0:N.previewUrl,size:"xl"}),o.jsxs(H,{children:[e.status===K.WAIT_START_BID&&o.jsxs(o.Fragment,{children:[o.jsx(H.Col,{span:6,children:o.jsxs(j,{size:"xs",children:[" ",d("Loan"),": ",e.size," TON"]})}),o.jsx(H.Col,{span:6,children:o.jsxs(j,{size:"xs",children:[" ",d("Date"),": ",e.end.toLocaleDateString("ru-RU")," "]})})]}),e.status===K.AUCTION_STARTED&&o.jsx(H.Col,{span:12,children:o.jsxs(j,{size:"xs",children:[" ",d("End"),": ",((q=e.auction)==null?void 0:q.finish.toLocaleDateString("ru-RU"))+" "+(($=e.auction)==null?void 0:$.finish.toLocaleTimeString("ru-RU"))," "]})}),o.jsx(H.Col,{span:12,children:o.jsxs(j,{size:"xs",children:[d("Minimal bid"),": "," ",o.jsx(re,{value:u,decimalScale:3,suffix:" TON"})]})})]})]})]})},e.address),s===pe.MAKE_BET&&o.jsx(Ee,{label:d("Enter the bid amount TON"),description:d("Minimum")+": "+u+" TON",defaultValue:u,allowNegative:!1,value:f,onChange:p,min:u,allowedDecimalSeparators:[".",","]}),e.status>K.CREDIT_CLOSED&&o.jsx(G,{variant:"filled",fullWidth:!0,mt:"xs",onClick:()=>{r.close(),i.makeBid(e.address,Number(f)).then(M=>{console.log("tx.makeBid result: ",M),a()})},children:d("Make bid")})]})]})}function bo({config:t}){var Le;const e=t.allowedUsdtCollectionsProps!==void 0?[...t.allowedCollectionsProps,...t.allowedUsdtCollectionsProps]:t.allowedCollectionsProps,{user:s,reloadAccount:n,accountLoading:r,bankFinance:i,usdtBankFinance:a,nfts:l,credits:c,auctions:d,collectionNames:f,reloadNftsAndAuctions:p}=ao(t),{tx:u,activeState:m,errorState:y,resetStates:x}=fo(t,n,p),{colorScheme:b}=bi(),[E,R]=Mt(),{setColorScheme:B}=Tn(),T=On("light",{getInitialValueInEffect:!0}),I=()=>{B(T==="light"?"dark":"light")},[,U]=Wi(),{t:N,i18n:q}=me();R({uiPreferences:{theme:b==="dark"?jt.DARK:jt.LIGHT}});const $=Bt(),[M,{toggle:D}]=st(),[P,{toggle:V}]=st(!0),[k,h]=st(!1),[g,v]=S.useState(null),[w,C]=S.useState(null),[O,z]=S.useState(pe.GET_CREDIT),[de,J]=S.useState(!0),[te,xe]=S.useState("en");return S.useEffect(()=>{q.changeLanguage(te);let ue="en";te==="ru"&&(ue="ru"),E.uiOptions={language:ue}},[te]),S.useEffect(()=>{let ue=se.initDataUnsafe.start_param;if(ue){let be="/"+ue.replace("_","/");U(be)}let Ie=se.initDataUnsafe.user;if(Ie){let be=Ie.language_code;be&&be.substring(0,2)==="ru"&&xe("ru")}},[se.initDataUnsafe]),S.useEffect(()=>{localStorage.getItem("ton-connect-ui_wallet-info")===null?(J(!1),se.MainButton.setText(N("Connect wallet")),se.MainButton.onClick(()=>E.openModal()),se.MainButton.show()):$!==null&&(J(!1),se.MainButton.hide())},[$]),o.jsxs(o.Fragment,{children:[o.jsxs(Ue,{header:{height:60},footer:{height:20},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!M,desktop:!P}},padding:"xs",children:[o.jsx(Ue.Header,{children:o.jsxs(ie,{h:"100%",px:"md",className:Ne.inner,children:[o.jsx(qt,{opened:M,onClick:D,hiddenFrom:"sm",size:"sm"}),o.jsx(qt,{opened:P,onClick:V,visibleFrom:"sm",size:"sm"}),o.jsx(j,{size:"xl",fw:700,variant:"gradient",gradient:t.appNameHeader,className:Ne.txt,children:N("custom:appName")}),o.jsxs(Ve,{onClick:()=>I(),radius:"xl",variant:"outline",size:"xl","aria-label":"Toggle color scheme",children:[o.jsx(An,{className:Jt(Ne.icon,Ne.light),stroke:2}),o.jsx(Nn,{className:Jt(Ne.icon,Ne.dark),stroke:2})]})]})}),o.jsxs(Ue.Navbar,{p:"md",children:[o.jsx(ne,{label:N("Borrow"),leftSection:o.jsx(En,{size:"1rem",stroke:1.5}),component:De,href:"/",onClick:D}),s.holder!==null&&o.jsxs(o.Fragment,{children:[o.jsx(ne,{label:N("Deposit"),component:De,leftSection:o.jsx(Pn,{size:"1rem",stroke:1.5}),href:"/deposit",onClick:D}),o.jsx(ne,{label:N("Auctions"),leftSection:o.jsx(Rn,{size:"1rem",stroke:1.5}),component:De,href:"/auction",onClick:D})]}),o.jsxs(ne,{label:N("Info"),leftSection:o.jsx(Ln,{size:"1rem",stroke:1.5}),childrenOffset:28,children:[o.jsx(ne,{label:N("About"),leftSection:o.jsx(In,{size:"1rem",stroke:1.5}),component:De,href:"/about",onClick:D}),o.jsx(ne,{label:N("Collections"),leftSection:o.jsx(Un,{size:"1rem",stroke:1.5}),component:De,href:"/collections",onClick:D})]}),o.jsxs(ne,{label:"Language",childrenOffset:28,leftSection:o.jsx(kn,{size:"1rem",stroke:1.5}),children:[o.jsx(ne,{label:"English",onClick:()=>{D(),xe("en")}}),o.jsx(ne,{label:"Русский",onClick:()=>{D(),xe("ru")}})]}),$?o.jsx(ne,{label:N("Disconnect wallet"),leftSection:o.jsx(Dn,{size:"1rem",stroke:1.5}),description:Ir((Le=s.address)==null?void 0:Le.toString()),onClick:()=>{D(),E.disconnect(),U("/")}}):o.jsx(ne,{label:N("Connect Wallet"),leftSection:o.jsx(_n,{size:"1rem",stroke:1.5}),onClick:()=>{D(),E.openModal()}})]}),o.jsxs(Ue.Main,{children:[t.isTestnet&&o.jsx(Mn,{fullWidth:!0,variant:"outline",color:"red",mb:"md",children:"TESTNET"}),o.jsxs(Gi,{children:[o.jsx(Ae,{path:"/",children:de?o.jsx(Bn,{visible:de,zIndex:1e3,overlayProps:{radius:"sm",blur:10},loaderProps:{color:"blue",type:"bars"}}):o.jsx(o.Fragment,{children:$?o.jsx(oi,{nfts:l,credits:c,collectionNames:f,tx:u,isHolder:s.holder!==null||!t.onlyHolderRights.extend,allowed:e,reloadNfts:p,resetStates:x,setNft:v,setTransactionType:z,inputDrawerHandler:h,usdtWallet:s.usdtWallet}):o.jsx(gt,{data:t.heroPage})})}),o.jsx(Ae,{path:"/deposit",children:$?o.jsx(xi,{user:s,reloadAccount:n,accountLoading:r,tx:u,resetStates:x,bankFinance:i,usdtBankFinance:a}):o.jsx(gt,{data:t.heroPage})}),o.jsx(Ae,{path:"/auction",children:$?o.jsx(go,{auctions:d,tx:u,resetStates:x,setCredit:C,setTransactionType:z,inputDrawerHandler:h,usdtWallet:s.usdtWallet}):o.jsx(gt,{data:t.heroPage})}),o.jsx(Ae,{path:"/about",children:o.jsx(zn,{children:o.jsx("div",{dangerouslySetInnerHTML:{__html:N("custom:aboutHtml")}})})}),o.jsx(Ae,{path:"/collections",children:o.jsx(ks,{data:e})}),o.jsx(Ae,{children:ue=>o.jsxs("center",{children:[o.jsx("b",{children:"404:"})," Sorry, this page ",o.jsxs("code",{children:['"/',ue["*"],'"']})," isn't ready yet!"]})})]}),o.jsx(co,{activeState:m,errorState:y})]}),o.jsx(Ue.Footer,{p:2,children:o.jsx(j,{size:"xs",c:"dimmed",children:" © 2024-2025 Krediton "})})]}),o.jsx(xo,{opened:k,handler:h,offer:g,auction:w,transactionType:O,tx:u,resetStates:x,bankFinance:i,usdtBankFinance:a})]})}const yo="config-lb-mainnet.json";function kt(t){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(t)}function tn(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":kt(XMLHttpRequest))==="object"}function So(t){return!!t&&typeof t.then=="function"}function wo(t){return So(t)?t:Promise.resolve(t)}const Z=globalThis||void 0||self;var Dt={exports:{}},et={exports:{}},Ss;function vo(){return Ss||(Ss=1,function(t,e){var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Be<"u"&&Be,n=function(){function i(){this.fetch=!1,this.DOMException=s.DOMException}return i.prototype=s,new i}();(function(i){(function(a){var l=typeof i<"u"&&i||typeof self<"u"&&self||typeof l<"u"&&l,c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(h){return h&&DataView.prototype.isPrototypeOf(h)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(h){return h&&f.indexOf(Object.prototype.toString.call(h))>-1};function u(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError('Invalid character in header field name: "'+h+'"');return h.toLowerCase()}function m(h){return typeof h!="string"&&(h=String(h)),h}function y(h){var g={next:function(){var v=h.shift();return{done:v===void 0,value:v}}};return c.iterable&&(g[Symbol.iterator]=function(){return g}),g}function x(h){this.map={},h instanceof x?h.forEach(function(g,v){this.append(v,g)},this):Array.isArray(h)?h.forEach(function(g){this.append(g[0],g[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(g){this.append(g,h[g])},this)}x.prototype.append=function(h,g){h=u(h),g=m(g);var v=this.map[h];this.map[h]=v?v+", "+g:g},x.prototype.delete=function(h){delete this.map[u(h)]},x.prototype.get=function(h){return h=u(h),this.has(h)?this.map[h]:null},x.prototype.has=function(h){return this.map.hasOwnProperty(u(h))},x.prototype.set=function(h,g){this.map[u(h)]=m(g)},x.prototype.forEach=function(h,g){for(var v in this.map)this.map.hasOwnProperty(v)&&h.call(g,this.map[v],v,this)},x.prototype.keys=function(){var h=[];return this.forEach(function(g,v){h.push(v)}),y(h)},x.prototype.values=function(){var h=[];return this.forEach(function(g){h.push(g)}),y(h)},x.prototype.entries=function(){var h=[];return this.forEach(function(g,v){h.push([v,g])}),y(h)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function b(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function E(h){return new Promise(function(g,v){h.onload=function(){g(h.result)},h.onerror=function(){v(h.error)}})}function R(h){var g=new FileReader,v=E(g);return g.readAsArrayBuffer(h),v}function B(h){var g=new FileReader,v=E(g);return g.readAsText(h),v}function T(h){for(var g=new Uint8Array(h),v=new Array(g.length),w=0;w<g.length;w++)v[w]=String.fromCharCode(g[w]);return v.join("")}function I(h){if(h.slice)return h.slice(0);var g=new Uint8Array(h.byteLength);return g.set(new Uint8Array(h)),g.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:c.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:c.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():c.arrayBuffer&&c.blob&&d(h)?(this._bodyArrayBuffer=I(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||p(h))?this._bodyArrayBuffer=I(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var h=b(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=b(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(R)}),this.text=function(){var h=b(this);if(h)return h;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function q(h){var g=h.toUpperCase();return N.indexOf(g)>-1?g:h}function $(h,g){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');g=g||{};var v=g.body;if(h instanceof $){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,g.headers||(this.headers=new x(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!v&&h._bodyInit!=null&&(v=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new x(g.headers)),this.method=q(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(v),(this.method==="GET"||this.method==="HEAD")&&(g.cache==="no-store"||g.cache==="no-cache")){var w=/([?&])_=[^&]*/;if(w.test(this.url))this.url=this.url.replace(w,"$1_="+new Date().getTime());else{var C=/\?/;this.url+=(C.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function M(h){var g=new FormData;return h.trim().split("&").forEach(function(v){if(v){var w=v.split("="),C=w.shift().replace(/\+/g," "),O=w.join("=").replace(/\+/g," ");g.append(decodeURIComponent(C),decodeURIComponent(O))}}),g}function D(h){var g=new x,v=h.replace(/\r?\n[\t ]+/g," ");return v.split("\r").map(function(w){return w.indexOf(`
`)===0?w.substr(1,w.length):w}).forEach(function(w){var C=w.split(":"),O=C.shift().trim();if(O){var z=C.join(":").trim();g.append(O,z)}}),g}U.call($.prototype);function P(h,g){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText=g.statusText===void 0?"":""+g.statusText,this.headers=new x(g.headers),this.url=g.url||"",this._initBody(h)}U.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},P.error=function(){var h=new P(null,{status:0,statusText:""});return h.type="error",h};var V=[301,302,303,307,308];P.redirect=function(h,g){if(V.indexOf(g)===-1)throw new RangeError("Invalid status code");return new P(null,{status:g,headers:{location:h}})},a.DOMException=l.DOMException;try{new a.DOMException}catch{a.DOMException=function(g,v){this.message=g,this.name=v;var w=Error(g);this.stack=w.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function k(h,g){return new Promise(function(v,w){var C=new $(h,g);if(C.signal&&C.signal.aborted)return w(new a.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function z(){O.abort()}O.onload=function(){var J={status:O.status,statusText:O.statusText,headers:D(O.getAllResponseHeaders()||"")};J.url="responseURL"in O?O.responseURL:J.headers.get("X-Request-URL");var te="response"in O?O.response:O.responseText;setTimeout(function(){v(new P(te,J))},0)},O.onerror=function(){setTimeout(function(){w(new TypeError("Network request failed"))},0)},O.ontimeout=function(){setTimeout(function(){w(new TypeError("Network request failed"))},0)},O.onabort=function(){setTimeout(function(){w(new a.DOMException("Aborted","AbortError"))},0)};function de(J){try{return J===""&&l.location.href?l.location.href:J}catch{return J}}O.open(C.method,de(C.url),!0),C.credentials==="include"?O.withCredentials=!0:C.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&(c.blob?O.responseType="blob":c.arrayBuffer&&C.headers.get("Content-Type")&&C.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(O.responseType="arraybuffer")),g&&typeof g.headers=="object"&&!(g.headers instanceof x)?Object.getOwnPropertyNames(g.headers).forEach(function(J){O.setRequestHeader(J,m(g.headers[J]))}):C.headers.forEach(function(J,te){O.setRequestHeader(te,J)}),C.signal&&(C.signal.addEventListener("abort",z),O.onreadystatechange=function(){O.readyState===4&&C.signal.removeEventListener("abort",z)}),O.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return k.polyfill=!0,l.fetch||(l.fetch=k,l.Headers=x,l.Request=$,l.Response=P),a.Headers=x,a.Request=$,a.Response=P,a.fetch=k,a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=s.fetch?s:n;e=r.fetch,e.default=r.fetch,e.fetch=r.fetch,e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response,t.exports=e}(et,et.exports)),et.exports}(function(t,e){var s;if(typeof fetch=="function"&&(typeof Be<"u"&&Be.fetch?s=Be.fetch:typeof window<"u"&&window.fetch?s=window.fetch:s=fetch),typeof Jn<"u"&&typeof window>"u"){var n=s||vo();n.default&&(n=n.default),e.default=n,t.exports=e.default}})(Dt,Dt.exports);var sn=Dt.exports;const nn=Fn(sn),ws=Gn({__proto__:null,default:nn},[sn]);function vs(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function Cs(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?vs(Object(s),!0).forEach(function(n){Co(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):vs(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Co(t,e,s){return(e=jo(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function jo(t){var e=To(t,"string");return Ce(e)=="symbol"?e:e+""}function To(t,e){if(Ce(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(Ce(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ce(t){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(t)}var ge;typeof fetch=="function"&&(typeof Z<"u"&&Z.fetch?ge=Z.fetch:typeof window<"u"&&window.fetch?ge=window.fetch:ge=fetch);var We;tn()&&(typeof Z<"u"&&Z.XMLHttpRequest?We=Z.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(We=window.XMLHttpRequest));var ct;typeof ActiveXObject=="function"&&(typeof Z<"u"&&Z.ActiveXObject?ct=Z.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(ct=window.ActiveXObject));!ge&&ws&&!We&&!ct&&(ge=nn||ws);typeof ge!="function"&&(ge=void 0);var _t=function(e,s){if(s&&Ce(s)==="object"){var n="";for(var r in s)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(s[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},js=function(e,s,n,r){var i=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(d){n(null,{status:c.status,data:d})}).catch(n)};if(r){var a=r(e,s);if(a instanceof Promise){a.then(i).catch(n);return}}typeof fetch=="function"?fetch(e,s).then(i).catch(n):ge(e,s).then(i).catch(n)},Ts=!1,Oo=function(e,s,n,r){e.queryStringParams&&(s=_t(s,e.queryStringParams));var i=Cs({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof Z<"u"&&typeof Z.process<"u"&&Z.process.versions&&Z.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(Z.process.version,"; ").concat(Z.process.platform," ").concat(Z.process.arch,")")),n&&(i["Content-Type"]="application/json");var a=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,l=Cs({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},Ts?{}:a),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{js(s,l,r,c)}catch(d){if(!a||Object.keys(a).length===0||!d.message||d.message.indexOf("not implemented")<0)return r(d);try{Object.keys(a).forEach(function(f){delete l[f]}),js(s,l,r,c),Ts=!0}catch(f){r(f)}}},Ao=function(e,s,n,r){n&&Ce(n)==="object"&&(n=_t("",n).slice(1)),e.queryStringParams&&(s=_t(s,e.queryStringParams));try{var i;We?i=new We:i=new ct("MSXML2.XMLHTTP.3.0"),i.open(n?"POST":"GET",s,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a=typeof a=="function"?a():a,a)for(var l in a)i.setRequestHeader(l,a[l]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(c){console&&console.log(c)}},No=function(e,s,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},ge&&s.indexOf("file:")!==0)return Oo(e,s,n,r);if(tn()||typeof ActiveXObject=="function")return Ao(e,s,n,r);r(new Error("No fetch and no xhr implementation found!"))};function Re(t){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(t)}function Os(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function St(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Os(Object(s),!0).forEach(function(n){rn(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Os(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Eo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function As(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,on(n.key),n)}}function Po(t,e,s){return e&&As(t.prototype,e),s&&As(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function rn(t,e,s){return(e=on(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function on(t){var e=Ro(t,"string");return Re(e)=="symbol"?e:e+""}function Ro(t,e){if(Re(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(Re(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lo=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(s){return JSON.parse(s)},stringify:JSON.stringify,parsePayload:function(s,n,r){return rn({},n,r||"")},parseLoadPayload:function(s,n){},request:No,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},an=function(){function t(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Eo(this,t),this.services=e,this.options=s,this.allOptions=n,this.type="backend",this.init(e,s,n)}return Po(t,[{key:"init",value:function(s){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=s,this.options=St(St(St({},Lo()),this.options||{}),r),this.allOptions=i,this.services&&this.options.reloadInterval){var a=setInterval(function(){return n.reload()},this.options.reloadInterval);Re(a)==="object"&&typeof a.unref=="function"&&a.unref()}}},{key:"readMulti",value:function(s,n,r){this._readAny(s,s,n,n,r)}},{key:"read",value:function(s,n,r){this._readAny([s],s,[n],n,r)}},{key:"_readAny",value:function(s,n,r,i,a){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(s,r)),c=wo(c),c.then(function(d){if(!d)return a(null,{});var f=l.services.interpolator.interpolate(d,{lng:s.join("+"),ns:r.join("+")});l.loadUrl(f,a,n,i)})}},{key:"loadUrl",value:function(s,n,r,i){var a=this,l=typeof r=="string"?[r]:r,c=typeof i=="string"?[i]:i,d=this.options.parseLoadPayload(l,c);this.options.request(this.options,s,d,function(f,p){if(p&&(p.status>=500&&p.status<600||!p.status))return n("failed loading "+s+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return n("failed loading "+s+"; status code: "+p.status,!1);if(!p&&f&&f.message){var u=f.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(b){return u.indexOf(b)>-1});if(m)return n("failed loading "+s+": "+f.message,!0)}if(f)return n(f,!1);var y,x;try{typeof p.data=="string"?y=a.options.parse(p.data,r,i):y=p.data}catch{x="failed parsing "+s+" to json"}if(x)return n(x,!1);n(null,y)})}},{key:"create",value:function(s,n,r,i,a){var l=this;if(this.options.addPath){typeof s=="string"&&(s=[s]);var c=this.options.parsePayload(n,r,i),d=0,f=[],p=[];s.forEach(function(u){var m=l.options.addPath;typeof l.options.addPath=="function"&&(m=l.options.addPath(u,n));var y=l.services.interpolator.interpolate(m,{lng:u,ns:n});l.options.request(l.options,y,c,function(x,b){d+=1,f.push(x),p.push(b),d===s.length&&typeof a=="function"&&a(f,p)})})}}},{key:"reload",value:function(){var s=this,n=this.services,r=n.backendConnector,i=n.languageUtils,a=n.logger,l=r.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],d=function(p){var u=i.toResolveHierarchy(p);u.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};d(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(f){return d(f)}),c.forEach(function(f){s.allOptions.ns.forEach(function(p){r.read(f,p,"read",null,null,function(u,m){u&&a.warn("loading namespace ".concat(p," for language ").concat(f," failed"),u),!u&&m&&a.log("loaded namespace ".concat(p," for language ").concat(f),m),r.loaded("".concat(f,"|").concat(p),u,m)})})})}}}])}();an.type="backend";Y.use(an).use(gr).init({load:"languageOnly",lng:"en",interpolation:{escapeValue:!1}});const Ns={xxs:_("200px"),xs:_("300px"),sm:_("400px"),md:_("500px"),lg:_("600px"),xl:_("1400px"),xxl:_("1600px")},Io=$n({fontSizes:{xs:_("12px"),sm:_("14px"),md:_("16px"),lg:_("18px"),xl:_("20px"),"2xl":_("24px"),"3xl":_("30px"),"4xl":_("36px"),"5xl":_("48px")},spacing:{"3xs":_("4px"),"2xs":_("8px"),xs:_("10px"),sm:_("12px"),md:_("16px"),lg:_("20px"),xl:_("24px"),"2xl":_("28px"),"3xl":_("32px")},primaryColor:"gray",components:{Container:qe.extend({vars:(t,{size:e,fluid:s})=>({root:{"--container-size":s?"100%":e!==void 0&&e in Ns?Ns[e]:_(e)}})}),Paper:Rs.extend({defaultProps:{p:"md",shadow:"xl",radius:"md",withBorder:!0}}),Card:X.extend({defaultProps:{p:"xl",shadow:"xl",radius:"var(--mantine-radius-default)",withBorder:!0}}),Select:Vn.extend({defaultProps:{checkIconPosition:"right"}})},other:{style:"mantine"}});fetch(yo).then(t=>t.json()).then(t=>{se.ready(),se.expand(),ye.init(t),Y.addResourceBundle("en","custom",t.translates.en),Y.addResourceBundle("ru","custom",t.translates.ru),Tt.createRoot(document.getElementById("root")).render(o.jsx(Hn.StrictMode,{children:o.jsx(Kn,{defaultColorScheme:"auto",theme:Io,children:o.jsx(Wn,{manifestUrl:t.tonConnectProps.manifestUrl,uiPreferences:{theme:jt.DARK},actionsConfiguration:{twaReturnUrl:t.tonConnectProps.twaReturnUrl},children:o.jsx(bo,{config:t})})})}))}).catch(t=>console.error("Error loading config:",t));
